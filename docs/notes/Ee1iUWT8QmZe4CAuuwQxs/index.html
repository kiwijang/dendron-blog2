<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5555097176407757" crossorigin="anonymous"></script><title>1227 從 Nx 入門 monorepo</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="1227 從 Nx 入門 monorepo"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://kiwijang.github.io/notes/Ee1iUWT8QmZe4CAuuwQxs/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2021/12/27"/><meta property="article:modified_time" content="2022/2/9"/><meta property="article:tag" content="PROG.Nx"/><link rel="canonical" href="https://kiwijang.github.io/notes/Ee1iUWT8QmZe4CAuuwQxs/"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/2e04be68fe605e39.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2e04be68fe605e39.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-378e68e29c265886.js" defer=""></script><script src="/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/_next/static/chunks/main-d4b16f161e1a380a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a0dcf1e516f6b278.js" defer=""></script><script src="/_next/static/chunks/971-81b011f98f9a89c4.js" defer=""></script><script src="/_next/static/chunks/910-61fbb20341530d7b.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-d32b36dd1414ae55.js" defer=""></script><script src="/_next/static/pTkboF1Eis4NArFIps-xN/_buildManifest.js" defer=""></script><script src="/_next/static/pTkboF1Eis4NArFIps-xN/_ssgManifest.js" defer=""></script><script src="/_next/static/pTkboF1Eis4NArFIps-xN/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div id="__nextLayout"><div class="circle c5"></div><div class="circle c5"></div></div><section class="ant-layout" style="width:100%;min-height:100%;min-width:310px"><header class="ant-layout-header" style="position:sticky;top:0;isolation:isolate;z-index:1;width:100%;box-shadow:0px 0px 2px 0px #000000;height:50px"><div class="ant-row ant-row-center"><div id="my-search" style="max-width:992px;margin-right:50px" class="ant-col gutter-row ant-col-xs-0 ant-col-sm-5 ant-col-md-5 ant-col-lg-5"></div><div class="ant-col ant-col-xs-6"></div><div style="margin-left:4px;display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px;color:lightgrey" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:200px;min-width:200px"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 50px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:calc(100% - 224px);display:initial"><main class="ant-layout-content main-content" role="main" style="padding-left:40px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row"><div class="ant-col ant-col-xs-24 ant-col-md-18"><div style="padding-right:40px"><div><h1 id="1227-從-nx-入門-monorepo"><a aria-hidden="true" class="anchor-heading" href="#1227-從-nx-入門-monorepo"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>1227 從 Nx 入門 monorepo</h1>
<h2 id="前言"><a aria-hidden="true" class="anchor-heading" href="#前言"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>前言</h2>
<blockquote>
<p>深入淺出 Monorepo 架構 — 使用 Nx Console 實現一個 Monorepo 架構的專案</p>
</blockquote>
<p>導讀影片: <a href="https://www.youtube.com/watch?v=9iU_IE6vnJ8">Monorepos - How the Pros Scale Huge Software Projects // Turborepo vs Nx</a></p>
<h2 id="1-簡介-monorepo-架構"><a aria-hidden="true" class="anchor-heading" href="#1-簡介-monorepo-架構"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>1. 簡介 Monorepo 架構</h2>
<p>Monorepo (全名 Monolithic Repository)，符合以下三個條件:</p>
<ol>
<li>One Repository</li>
<li>Multiple projects</li>
<li>Shared Libraries</li>
</ol>
<p>如下圖，可以看到:</p>
<ol>
<li><strong>一個 repo</strong></li>
<li><strong>多個 projects</strong> (三個 app 加上兩個 libs)</li>
<li><strong>共用 libs</strong></li>
</ol>
<p><img src="/assets/images/2021-12-27-22-50-05.png" alt="MonoRepo"></p>
<p>Monorepo 架構的主要目的是希望集中管理套件版本。</p>
<p>透過只管理一個 <code>package.json</code>，可以發現好處是套件版本管理方便、而壞處是一個 repo 有多個 projects，檔案容易變非常大，讓 git 版控軟體跑起來較吃力。</p>
<p>另外 Monorepo 讓 apps 之間共用 libs 變得方便簡單，所以可以降低重複程式碼的機率。
也可以讓 Lerna、yarn 等套件管理工具更方便的減少重複的套件安裝。</p>
<p>而以 Nx 來說，更酷的特色是可以在同一個 repo 裡同時使用 react 和 angular 共同開發一個 app。</p>
<p>雖然也可以使用 rollupjs 來達到不同前端框架共同開發一個 app 的效果。</p>
<p>但 Nx 就像 monorepo 全家桶: 提供一個 Nx workspace 讓你的 monorepo 開發更容易。</p>
<p>接下來，在看看 Nx 之前，先來一些先備知識。</p>
<h2 id="2-簡介-nx-工具與專有名詞解釋"><a aria-hidden="true" class="anchor-heading" href="#2-簡介-nx-工具與專有名詞解釋"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2. 簡介 Nx 工具與專有名詞解釋</h2>
<h3 id="2-1-什麼是-nx-"><a aria-hidden="true" class="anchor-heading" href="#2-1-什麼是-nx-"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2-1. 什麼是 Nx ?</h3>
<p>官網: <a href="https://nx.dev/">https://nx.dev/</a></p>
<p><img src="/assets/images/2021-12-27-23-55-50.png"></p>
<blockquote>
<p>聰明、可擴充的建置框架，Nx 幫助任何規模的架構、測試、建置。
(Smart, Extensible Build Framework Nx helps architect, test, build at any scale:)</p>
</blockquote>
<ul>
<li>以現代框架進行整合。(integrations with modern frameworks)</li>
<li>計算快取。(computation caching)</li>
<li>聰明的重新建置被修改過的專案。(smart rebuilds of affected projects)</li>
<li>分散式任務執行。(distributed task execution)</li>
<li>強大的程式碼產生器。(powerful code generators)</li>
<li>支援 VSCode 和 WebStorm 編輯器。(editor support (VSCode, WebStorm))</li>
<li>(GitHub apps)</li>
<li>還有更多。(and more.)</li>
</ul>
<h3 id="2-2-nx-的製作團隊"><a aria-hidden="true" class="anchor-heading" href="#2-2-nx-的製作團隊"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2-2. Nx 的製作團隊</h3>
<p>narwhal 簡寫 Nrwl，是獨角鯨的英文。</p>
<p><img src="/assets/images/2021-12-27-23-57-12.png"></p>
<p>顧問、工程、訓練。
Consulting. Engineering. Training.</p>
<p>Nrwl 創立於 2016 12 月，以 Angular 團隊成員、多位前 Google 員工、Jeff Cross、Victor Savkin 所組成。</p>
<p>如今已有 18 位左右成員 (在美國、加拿大和英國)。</p>
<p>Nrwl 也是開源開發工具們的製作者: 給 monorepo 開發用的 Nx、和 Angular Console。</p>
<p>Nrwl was founded in December 2016 by Angular team members and former Googlers, Jeff Cross and Victor Savkin, and today has around 18 team members in the US, Canada and UK.
Nrwl is also the creator of open-source dev tools: Nx for monorepo development, and Angular Console.</p>
<h3 id="2-3-angular-monorepo-patterns"><a aria-hidden="true" class="anchor-heading" href="#2-3-angular-monorepo-patterns"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2-3. Angular monorepo patterns</h3>
<p>這本書說明了 nx 是如何實踐 monerepo 概念。</p>
<p><img src="/assets/images/2021-12-27-23-59-52.png"></p>
<ul>
<li><a href="https://connect.nrwl.io/app/books">https://connect.nrwl.io/app/books</a></li>
<li><a href="https://nrwl.io/products">https://nrwl.io/products</a></li>
</ul>
<h3 id="2-4-nx-與-angular-淵源不淺"><a aria-hidden="true" class="anchor-heading" href="#2-4-nx-與-angular-淵源不淺"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2-4. Nx 與 Angular 淵源不淺</h3>
<p><img src="/assets/images/2021-12-28-00-06-48.png"></p>
<p>上面這兩位 Nx 開發的主導者是 Google 的前員工，且對 Angular 都有相當深入的理解。
但 Nx 官網上有不少 react 的開發教學，如果有公司想要從 react 轉到 angular(或是 angular 轉 react 為主)，
感覺透過 Nx 的幫助可以慢慢地移花接木(不然 Nx 也至少可以讓這兩框架和平共處)。😆</p>
<h3 id="2-5-angular-詞彙表"><a aria-hidden="true" class="anchor-heading" href="#2-5-angular-詞彙表"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2-5. Angular 詞彙表</h3>
<ul>
<li>
<p><a href="https://angular.tw/guide/glossary#workspace">Workspace</a> (工作區)</p>
<p>一個 Angular 所有專案的集合(可以用 Angular CLI 操作這個集合)，通常會在 git 版本控制的 repository 中。</p>
</li>
<li>
<p><a href="https://angular.tw/guide/glossary#project">Project</a> (專案)</p>
<p>可以通過 Angular CLI 命令創建或修改的獨立應用程式或函式庫。可在 angular.json 中配置 workspace 中的所有 projects。</p>
</li>
<li>
<p><a href="https://angular.tw/guide/glossary#library">Library</a> (函式庫)</p>
<p>一種 Angular 專案。用來讓其它 Angular 應用包含它，以提供各種功能。函式庫不是一個完整的 Angular 應用，不能獨立執行。</p>
</li>
<li>
<p><a href="https://angular.tw/guide/typescript-configuration#configuration-files">TypeScript 配置</a></p>
<p>一個 Angular 工作區中包含多個 TypeScript 配置檔案。在 root，有兩個主要的 TypeScript 配置檔案：tsconfig.json 檔案和 tsconfig.app.json 檔案。<a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#tsconfig-bases">使用 extends 進行配置繼承</a>。</p>
</li>
<li>
<p><a href="https://angular.tw/guide/glossary#schematic">Schematic</a> (原理圖)</p>
<p>Angular CLI 使用原理圖來產生和修改 Angular 專案及其部件。</p>
</li>
<li>
<p>Collection (集合)</p>
<p>在 Angular 中，是指收錄在同一個 <a href="https://angular.tw/guide/glossary#npm-package">npm 套件</a> 中的一組原理圖（schematics）。</p>
<p><img src="/assets/images/2021-12-28-00-23-52.png"></p>
</li>
</ul>
<h3 id="2-6-nx-名詞解釋"><a aria-hidden="true" class="anchor-heading" href="#2-6-nx-名詞解釋"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2-6. Nx 名詞解釋</h3>
<ul>
<li>
<p>Generators (產生器)
產生器提供了一種方法，來自動執行您在開發工作流程中，經常執行的許多任務。
在 Nx 中，可以使用 <code>@nrwl/devkit</code> 或 <code>@angular-devkit</code> ，來製作產生器。
使用 <code>@angular-devkit</code> 製作的稱為 schematics (原理圖)。</p>
<p>下圖為 Nx 官網的 sidebar 的一小部分截圖，可以看見 Generator 有不少篇幅介紹。</p>
<p><img src="/assets/images/2021-12-28-21-51-09.png"></p>
</li>
</ul>
<h3 id="2-7-nx-的-generators-的使用方式"><a aria-hidden="true" class="anchor-heading" href="#2-7-nx-的-generators-的使用方式"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2-7. Nx 的 Generators 的使用方式</h3>
<p>可以發現 Nx 的 <code>[plugin]:[generator-name]</code> 就是 Angular 的 <code>[collections]:[schematic]</code>。</p>
<p>有用 angular 寫過 schematic 的人有福了，可以更快上手 Nx 的 generator。🎉</p>
<p>以下是關於如何調用 gnerator 的內容(截自官網):</p>
<ul>
<li>
<p>調用插件產生器 <a href="https://nx.dev/l/a/generators/using-schematics#invoking-plugin-generators">Invoking Plugin Generators</a></p>
<p>產生器可以讓你以簡單和可重複的方式新增修改程式碼。可以使用 <code>nx generate</code> 指令來調用 (invoked) 產生器。
Generators allow you to create or modify your codebase in a simple and repeatable way. Generators are invoked using the nx generate command.</p>
<pre class="language-cmd"><code class="language-cmd">nx generate [plugin]:[generator-name] [options]
nx generate @nrwl/angular:component mycmp --project=myapp
</code></pre>
<p>在使用產生器前有一個乾淨的 git 工作路徑很重要，因為這樣你能輕易的還原變動 (revert changes)、並使用不一樣的設定來重新調用產生器。
It is important to have a clean git working directory before invoking a generator so that you can easily revert changes and re-invoke the generator with different inputs.</p>
</li>
</ul>
<h3 id="2-8-小補充-關於-collection-為何都是xxxooo這樣命名"><a aria-hidden="true" class="anchor-heading" href="#2-8-小補充-關於-collection-為何都是xxxooo這樣命名"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2-8. 小補充: 關於 collection 為何都是「＠xxx/ooo」這樣命名?</h3>
<p>這是 npm 的命名規則，詳情可以參考 npm 官網影片: <a href="https://www.youtube.com/watch?v=O6JoXGnHK_Y">Working with npm private modules
</a></p>
<blockquote>
<p>＠後的字稱為 <code>@scope</code>，通常是 npm 的帳號名字(尤其要 publish 到 npm 上的話，就是 <code>@username</code> 的意思。)</p>
</blockquote>
<p><img src="/assets/images/2021-12-28-21-53-15.png"></p>
<h2 id="3-感受一下-nx-的-monorepo-專案"><a aria-hidden="true" class="anchor-heading" href="#3-感受一下-nx-的-monorepo-專案"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>3. 感受一下 Nx 的 monorepo 專案</h2>
<ul>
<li>
<p>Angular workspace 的 libs 通常都會有一個自己的 <code>package.json</code></p>
<p><img src="/assets/images/2021-12-28-00-24-21.png"></p>
</li>
<li>
<p>Nx workspace 預設共用一個 <code>package.json</code></p>
<p><img src="/assets/images/2021-12-28-00-28-00.png"></p>
</li>
</ul>
<h3 id="3-1-產生一個-nx-的-workspace"><a aria-hidden="true" class="anchor-heading" href="#3-1-產生一個-nx-的-workspace"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>3-1. 產生一個 Nx 的 workspace</h3>
<p><a href="https://www.npmjs.com/package/create-nx-workspace">https://www.npmjs.com/package/create-nx-workspace</a></p>
<p><img src="/assets/images/2021-12-28-21-48-43.png"></p>
<h3 id="3-2-nx-的-workspace-圖示"><a aria-hidden="true" class="anchor-heading" href="#3-2-nx-的-workspace-圖示"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>3-2. Nx 的 workspace 圖示</h3>
<p>除了圖示裡的這些，Nx workspace 也可以用來整合開發其他框架(最後面會補充)。</p>
<p><img src="/assets/images/2021-12-28-22-18-03.png"></p>
<h2 id="4-快速上手-nx-console-操作-generaterun"><a aria-hidden="true" class="anchor-heading" href="#4-快速上手-nx-console-操作-generaterun"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>4. 快速上手 Nx Console 操作 (Generate、Run)</h2>
<h3 id="4-1-nx-console-簡介"><a aria-hidden="true" class="anchor-heading" href="#4-1-nx-console-簡介"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>4-1. Nx Console 簡介</h3>
<ul>
<li>
<p>Nx Console 套件安裝</p>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=nrwl.angular-console">Install from the VS Code Marketplace</a></li>
<li><a href="https://github.com/nrwl/nx-console">Contribute on GitHub</a></li>
</ul>
</li>
<li>
<p>Nx Console 前生今世</p>
<p><code>Nx Console</code> 前生為 <code>Angular Console</code>，詳情可以看這篇文章:
<a href="https://blog.nrwl.io/re-introducing-nx-console-a21fa9f4f668">https://blog.nrwl.io/re-introducing-nx-console-a21fa9f4f668</a></p>
<p><code>Angular Console</code> 是一個桌面應用程式 (Desktop App)。</p>
<p>最一開始是以 <code>Electron</code> 在開發，後來 <code>Angular Console</code> 團隊將桌面應用程式移植到 VS Code 的擴充套件上。結果發現效能很糟...</p>
<p>所以他們就決定打掉重練： 以 VS Code 套件提供的基底重新開發一個擴充套件，</p>
<p>並且順帶將套件重新命名為 <code>Nx Console</code>。</p>
<p><code>Nx Console</code> 包括 <code>Angular Console</code> 和 <code>Nx</code> 的功能，最後連 <code>Nx</code> 和 <code>Angular Console</code> 的製作團隊也整併再一起了。</p>
<p><img src="/assets/images/2021-12-28-22-21-50.png"></p>
</li>
<li>
<p>Nx 套件教學</p>
<p>如果不小心跳過一開始的新手教學，可以到 github 看，<code>Nx Console</code> 套件的也是以 <code>Nx 架構</code> 寫成的。😎</p>
<p><a href="https://github.com/nrwl/nx-console/tree/master/apps/vscode/src/getting-started">https://github.com/nrwl/nx-console/tree/master/apps/vscode/src/getting-started</a></p>
</li>
<li>
<p>Nx Console 官網主打口號</p>
<ul>
<li>Nx 專用的純 UI 介面。(True UI for Nx)</li>
<li>專家和初學皆適用。(Useful for both experts and beginners)</li>
<li>豐富的文件說明。(Documentation)</li>
</ul>
</li>
<li>
<p>介面分三個區塊</p>
<ul>
<li>
<p>Generate &#x26; Run Target
開發專案時常用到的指令。等等下面會講一下 <code>Generate</code> 和 <code>Run</code>。</p>
</li>
<li>
<p>Common Nx Commands
關於被修改過的檔案會有一些功能可以用，另外還有產生專案相依狀態的圖表、依次執行多個指令的指令可以用。</p>
</li>
<li>
<p>Projects
這裡就是圖示化 <code>angular.json</code> 的 <code>projects</code> 區塊，可以直接按按鈕執行 script。</p>
<p><img src="/assets/images/2021-12-28-22-35-51.png"></p>
</li>
</ul>
</li>
</ul>
<h3 id="4-2-nx-generate-常見的-collection"><a aria-hidden="true" class="anchor-heading" href="#4-2-nx-generate-常見的-collection"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>4-2. nx generate (常見的 collection)</h3>
<p>當你按下 <code>Generate</code> 的按鈕時，就會幫你執行 <code>nx generate</code>，並根據 <code>generator</code> (<code>schematic</code>) 產生預期的結果。
以下列出常見的 collection:</p>
<ol>
<li>
<p><code>@angular/cdk</code></p>
</li>
<li>
<p><code>@angular/material</code></p>
<p>以上兩個都是 Angular Material 相關 collection。</p>
<p><img src="/assets/images/2021-12-28-22-53-23.png"></p>
</li>
<li>
<p><code>@nrwl/storybook</code></p>
<p>Storybook 相關 collection。</p>
</li>
<li>
<p><code>@nrwl/angular</code></p>
<p>Nx cli 預設的 collection (1)。</p>
</li>
<li>
<p><code>@nrwl/workspace</code></p>
<p>Nx cli 預設的 collection (2)。</p>
</li>
<li>
<p><code>@schematics/angular</code></p>
<p>Angular cli 預設的 collection。</p>
</li>
</ol>
<h3 id="4-3-產生-library-有三個-schematic-可以用"><a aria-hidden="true" class="anchor-heading" href="#4-3-產生-library-有三個-schematic-可以用"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>4-3. 產生 Library 有三個 schematic 可以用</h3>
<ul>
<li>
<p><code>@schematics/angular</code></p>
<p><img src="/assets/images/2021-12-28-22-58-21.png"></p>
</li>
<li>
<p><code>@nrwl/angular</code></p>
<p><img src="/assets/images/2021-12-28-22-59-05.png"></p>
<p><img src="/assets/images/2021-12-28-23-00-04.png"></p>
<p><img src="/assets/images/2021-12-28-23-00-23.png"></p>
</li>
<li>
<p><code>@nrwl/workspace</code></p>
<p><img src="/assets/images/2021-12-28-22-59-20.png"></p>
</li>
</ul>
<ul>
<li>
<p>collection 偵測方式 (node_module/ 全部偵測):</p>
<p><a href="https://github.com/nrwl/nx-console/blob/ad3578a1a2/libs/server/src/lib/utils/read-collections.ts">https://github.com/nrwl/nx-console/blob/ad3578a1a2/libs/server/src/lib/utils/read-collections.ts</a></p>
</li>
<li>
<p>vscode-angular-schematics collection 偵測方式:</p>
<p><a href="https://github.com/cyrilletuzi/vscode-angular-schematics/blob/main/src/defaults.ts">https://github.com/cyrilletuzi/vscode-angular-schematics/blob/main/src/defaults.ts</a></p>
</li>
</ul>
<h3 id="4-4-nx-run"><a aria-hidden="true" class="anchor-heading" href="#4-4-nx-run"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>4-4. nx run</h3>
<p>同時 build 所有 projects 內有 build script 的專案。</p>
<p><code>nx run-many --target=build --all --parallel</code></p>
<p><img src="/assets/images/2021-12-28-23-01-03.png"></p>
<ul>
<li><a href="https://angular.tw/cli/run">https://angular.tw/cli/run</a></li>
<li><a href="https://nx.dev/l/a/cli/run-many">https://nx.dev/l/a/cli/run-many</a></li>
</ul>
<h2 id="5-其他補充"><a aria-hidden="true" class="anchor-heading" href="#5-其他補充"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>5. 其他補充</h2>
<h3 id="5-1-常見的-monorepo-架構開發工具"><a aria-hidden="true" class="anchor-heading" href="#5-1-常見的-monorepo-架構開發工具"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>5-1. 常見的 Monorepo 架構開發工具</h3>
<p><img src="/assets/images/2021-12-28-23-03-34.png"></p>
<p>還有更多工具: <a href="https://github.com/korfuri/awesome-monorepo">https://github.com/korfuri/awesome-monorepo</a></p>
<h3 id="5-2-誤解-nx-和-yarn-workspacelerna-只能擇一使用"><a aria-hidden="true" class="anchor-heading" href="#5-2-誤解-nx-和-yarn-workspacelerna-只能擇一使用"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>5-2. 誤解: Nx 和 Yarn Workspace/Lerna 只能擇一使用?</h3>
<p><a href="https://nx.dev/l/n/guides/lerna-and-nx#clarifying-misconceptions">https://nx.dev/l/n/guides/lerna-and-nx#clarifying-misconceptions</a></p>
<p><img src="/assets/images/2021-12-28-23-05-05.png"></p>
<p>功能沒有重疊，Nx 不是 package manager 也不是 JS-only 的工具。可一起用。</p>
<p><img src="/assets/images/2021-12-28-23-05-31.png"></p>
<p>Nx 官方 youtube 頻道相關影片</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=Edv7ZeI8Bwc">How to Migrate From Lerna to Nx</a></li>
<li><a href="https://www.youtube.com/watch?v=BO1rwynFBLM">Lerna/Yarn to Nx: Faster Build Times + Better Dev Ergonomics</a></li>
</ul>
<h3 id="5-3-查看有哪些-nx-plugin-可以使用"><a aria-hidden="true" class="anchor-heading" href="#5-3-查看有哪些-nx-plugin-可以使用"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>5-3. 查看有哪些 Nx plugin 可以使用</h3>
<p><code>nx list</code></p>
<p>或到官網查看列表:
<a href="https://nx.dev/community#community-plugin-list">https://nx.dev/community#community-plugin-list</a></p>
<h3 id="5-4-nx-13"><a aria-hidden="true" class="anchor-heading" href="#5-4-nx-13"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>5-4. Nx 13</h3>
<p><img src="/assets/images/2021-12-28-23-07-16.png"></p>
<p>Webpack 5 Module Federation Plugin</p>
<ul>
<li><a href="https://nx.dev/l/a/guides/setup-mfe-with-angular">https://nx.dev/l/a/guides/setup-mfe-with-angular</a></li>
<li>Micro Frontends with Angular using Module Federation - Manfred Steyer</li>
</ul>
<h3 id="5-5-nx-學習資源"><a aria-hidden="true" class="anchor-heading" href="#5-5-nx-學習資源"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>5-5. Nx 學習資源</h3>
<ul>
<li>
<p>Nx 官網</p>
<p><a href="https://nx.dev/">https://nx.dev/</a></p>
</li>
<li>
<p>Nx Console for VSCode 介紹</p>
<p><a href="https://nx.dev/latest/angular/getting-started/console#nx-console-for-vscode">https://nx.dev/latest/angular/getting-started/console#nx-console-for-vscode</a></p>
</li>
<li>
<p>Github 上用 Nx + Angular 星星數最多的專案 Angular Spotify by Trung Vo</p>
<p><a href="https://github.com/trungk18/angular-spotify">https://github.com/trungk18/angular-spotify</a></p>
</li>
<li>
<p>Angular Spotify 作者專訪 youtube</p>
<p><a href="https://youtu.be/w04CfqZI8Xo">https://youtu.be/w04CfqZI8Xo</a></p>
</li>
<li>
<p>Nx Conf 連結 (2021/9/16-2021/9/17)</p>
<p><a href="https://youtu.be/oG2QbFquraA">https://youtu.be/oG2QbFquraA</a></p>
<p><a href="https://www.youtube.com/watch?v=hlGOaGDsWKg">https://www.youtube.com/watch?v=hlGOaGDsWKg</a></p>
</li>
<li>
<p>書</p>
<p><a href="https://connect.nrwl.io/app/books">https://connect.nrwl.io/app/books</a></p>
<p><a href="https://nrwl.io/products">https://nrwl.io/products</a></p>
</li>
</ul>
<hr>
<h2 id="tags"><a aria-hidden="true" class="anchor-heading" href="#tags"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Tags</h2>
<ol>
<li><a class="color-tag" style="--tag-color: #028f1e;" href="/notes/Po0jmNACWQVrxnoTRT6kr">PROG.Nx</a></li>
</ol></div></div></div><div class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 50px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#前言" title="前言">前言</a></div></div><div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#1-簡介-monorepo-架構" title="1. 簡介 Monorepo 架構">1. 簡介 Monorepo 架構</a></div></div><div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-簡介-nx-工具與專有名詞解釋" title="2. 簡介 Nx 工具與專有名詞解釋">2. 簡介 Nx 工具與專有名詞解釋</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-1-什麼是-nx-" title="2 1. 什麼是 Nx ?">2 1. 什麼是 Nx ?</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-2-nx-的製作團隊" title="2 2. Nx 的製作團隊">2 2. Nx 的製作團隊</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-3-angular-monorepo-patterns" title="2 3. Angular monorepo patterns">2 3. Angular monorepo patterns</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-4-nx-與-angular-淵源不淺" title="2 4. Nx 與 Angular 淵源不淺">2 4. Nx 與 Angular 淵源不淺</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-5-angular-詞彙表" title="2 5. Angular 詞彙表">2 5. Angular 詞彙表</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-6-nx-名詞解釋" title="2 6. Nx 名詞解釋">2 6. Nx 名詞解釋</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-7-nx-的-generators-的使用方式" title="2 7. Nx 的 Generators 的使用方式">2 7. Nx 的 Generators 的使用方式</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-8-小補充-關於-collection-為何都是xxxooo這樣命名" title="2 8. 小補充: 關於 collection 為何都是「＠xxx/ooo」這樣命名?">2 8. 小補充: 關於 collection 為何都是「＠xxx/ooo」這樣命名?</a></div></div><div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#3-感受一下-nx-的-monorepo-專案" title="3. 感受一下 Nx 的 monorepo 專案">3. 感受一下 Nx 的 monorepo 專案</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#3-1-產生一個-nx-的-workspace" title="3 1. 產生一個 Nx 的 workspace">3 1. 產生一個 Nx 的 workspace</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#3-2-nx-的-workspace-圖示" title="3 2. Nx 的 workspace 圖示">3 2. Nx 的 workspace 圖示</a></div></div><div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#4-快速上手-nx-console-操作-generaterun" title="4. 快速上手 Nx Console 操作 (Generate、Run)">4. 快速上手 Nx Console 操作 (Generate、Run)</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#4-1-nx-console-簡介" title="4 1. Nx Console 簡介">4 1. Nx Console 簡介</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#4-2-nx-generate-常見的-collection" title="4 2. nx generate (常見的 collection)">4 2. nx generate (常見的 collection)</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#4-3-產生-library-有三個-schematic-可以用" title="4 3. 產生 Library 有三個 schematic 可以用">4 3. 產生 Library 有三個 schematic 可以用</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#4-4-nx-run" title="4 4. nx run">4 4. nx run</a></div></div><div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-其他補充" title="5. 其他補充">5. 其他補充</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-1-常見的-monorepo-架構開發工具" title="5 1. 常見的 Monorepo 架構開發工具">5 1. 常見的 Monorepo 架構開發工具</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-2-誤解-nx-和-yarn-workspacelerna-只能擇一使用" title="5 2. 誤解: Nx 和 Yarn Workspace/Lerna 只能擇一使用?">5 2. 誤解: Nx 和 Yarn Workspace/Lerna 只能擇一使用?</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-3-查看有哪些-nx-plugin-可以使用" title="5 3. 查看有哪些 Nx plugin 可以使用">5 3. 查看有哪些 Nx plugin 可以使用</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-4-nx-13" title="5 4. Nx 13">5 4. Nx 13</a></div></div><div style="padding-left:20px"><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-5-nx-學習資源" title="5 5. Nx 學習資源">5 5. Nx 學習資源</a></div></div></div></div></div></div></div></div></div></div></main><div class="ant-row" style="padding-left:40px"></div><footer class="ant-layout-footer" style="padding:0 40px 40px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"Ee1iUWT8QmZe4CAuuwQxs","title":"1227 從 Nx 入門 monorepo","vault":{"fsPath":"vault"},"type":"note","desc":"","links":[{"type":"frontmatterTag","from":{"fname":"drops.2021.1227-從Nx入門monorepo","id":"Ee1iUWT8QmZe4CAuuwQxs","vaultName":"vault"},"value":"tags.PROG.Nx","alias":"PROG.Nx","xvault":false,"to":{"fname":"tags.PROG.Nx"}}],"anchors":{"前言":{"type":"header","text":"前言","value":"前言","line":10,"column":0,"depth":2},"1-簡介-monorepo-架構":{"type":"header","text":"1. 簡介 Monorepo 架構","value":"1-簡介-monorepo-架構","line":16,"column":0,"depth":2},"2-簡介-nx-工具與專有名詞解釋":{"type":"header","text":"2. 簡介 Nx 工具與專有名詞解釋","value":"2-簡介-nx-工具與專有名詞解釋","line":47,"column":0,"depth":2},"2-1-什麼是-nx-":{"type":"header","text":"2-1. 什麼是 Nx ?","value":"2-1-什麼是-nx-","line":49,"column":0,"depth":3},"2-2-nx-的製作團隊":{"type":"header","text":"2-2. Nx 的製作團隊","value":"2-2-nx-的製作團隊","line":67,"column":0,"depth":3},"2-3-angular-monorepo-patterns":{"type":"header","text":"2-3. Angular monorepo patterns","value":"2-3-angular-monorepo-patterns","line":85,"column":0,"depth":3},"2-4-nx-與-angular-淵源不淺":{"type":"header","text":"2-4. Nx 與 Angular 淵源不淺","value":"2-4-nx-與-angular-淵源不淺","line":94,"column":0,"depth":3},"2-5-angular-詞彙表":{"type":"header","text":"2-5. Angular 詞彙表","value":"2-5-angular-詞彙表","line":102,"column":0,"depth":3},"2-6-nx-名詞解釋":{"type":"header","text":"2-6. Nx 名詞解釋","value":"2-6-nx-名詞解釋","line":130,"column":0,"depth":3},"2-7-nx-的-generators-的使用方式":{"type":"header","text":"2-7. Nx 的 Generators 的使用方式","value":"2-7-nx-的-generators-的使用方式","line":141,"column":0,"depth":3},"2-8-小補充-關於-collection-為何都是xxxooo這樣命名":{"type":"header","text":"2-8. 小補充: 關於 collection 為何都是「＠xxx/ooo」這樣命名?","value":"2-8-小補充-關於-collection-為何都是xxxooo這樣命名","line":162,"column":0,"depth":3},"3-感受一下-nx-的-monorepo-專案":{"type":"header","text":"3. 感受一下 Nx 的 monorepo 專案","value":"3-感受一下-nx-的-monorepo-專案","line":171,"column":0,"depth":2},"3-1-產生一個-nx-的-workspace":{"type":"header","text":"3-1. 產生一個 Nx 的 workspace","value":"3-1-產生一個-nx-的-workspace","line":181,"column":0,"depth":3},"3-2-nx-的-workspace-圖示":{"type":"header","text":"3-2. Nx 的 workspace 圖示","value":"3-2-nx-的-workspace-圖示","line":187,"column":0,"depth":3},"4-快速上手-nx-console-操作-generaterun":{"type":"header","text":"4. 快速上手 Nx Console 操作 (Generate、Run)","value":"4-快速上手-nx-console-操作-generaterun","line":193,"column":0,"depth":2},"4-1-nx-console-簡介":{"type":"header","text":"4-1. Nx Console 簡介","value":"4-1-nx-console-簡介","line":195,"column":0,"depth":3},"4-2-nx-generate-常見的-collection":{"type":"header","text":"4-2. nx generate (常見的 collection)","value":"4-2-nx-generate-常見的-collection","line":242,"column":0,"depth":3},"4-3-產生-library-有三個-schematic-可以用":{"type":"header","text":"4-3. 產生 Library 有三個 schematic 可以用","value":"4-3-產生-library-有三個-schematic-可以用","line":270,"column":0,"depth":3},"4-4-nx-run":{"type":"header","text":"4-4. nx run","value":"4-4-nx-run","line":296,"column":0,"depth":3},"5-其他補充":{"type":"header","text":"5. 其他補充","value":"5-其他補充","line":307,"column":0,"depth":2},"5-1-常見的-monorepo-架構開發工具":{"type":"header","text":"5-1. 常見的 Monorepo 架構開發工具","value":"5-1-常見的-monorepo-架構開發工具","line":309,"column":0,"depth":3},"5-2-誤解-nx-和-yarn-workspacelerna-只能擇一使用":{"type":"header","text":"5-2. 誤解: Nx 和 Yarn Workspace/Lerna 只能擇一使用?","value":"5-2-誤解-nx-和-yarn-workspacelerna-只能擇一使用","line":315,"column":0,"depth":3},"5-3-查看有哪些-nx-plugin-可以使用":{"type":"header","text":"5-3. 查看有哪些 Nx plugin 可以使用","value":"5-3-查看有哪些-nx-plugin-可以使用","line":330,"column":0,"depth":3},"5-4-nx-13":{"type":"header","text":"5-4. Nx 13","value":"5-4-nx-13","line":337,"column":0,"depth":3},"5-5-nx-學習資源":{"type":"header","text":"5-5. Nx 學習資源","value":"5-5-nx-學習資源","line":346,"column":0,"depth":3}},"fname":"drops.2021.1227-從Nx入門monorepo","updated":1644411066115,"created":1640615759253,"parent":"XVdxhzTnAX2SQnuApjkXj","children":[],"data":{},"contentHash":"d0fed08dedc2646c0fa8cde54cfbbf74","custom":{},"tags":["PROG.Nx"]},"body":"\u003ch1 id=\"1227-從-nx-入門-monorepo\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#1227-從-nx-入門-monorepo\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e1227 從 Nx 入門 monorepo\u003c/h1\u003e\n\u003ch2 id=\"前言\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#前言\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e前言\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e深入淺出 Monorepo 架構 — 使用 Nx Console 實現一個 Monorepo 架構的專案\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e導讀影片: \u003ca href=\"https://www.youtube.com/watch?v=9iU_IE6vnJ8\"\u003eMonorepos - How the Pros Scale Huge Software Projects // Turborepo vs Nx\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"1-簡介-monorepo-架構\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#1-簡介-monorepo-架構\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e1. 簡介 Monorepo 架構\u003c/h2\u003e\n\u003cp\u003eMonorepo (全名 Monolithic Repository)，符合以下三個條件:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eOne Repository\u003c/li\u003e\n\u003cli\u003eMultiple projects\u003c/li\u003e\n\u003cli\u003eShared Libraries\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e如下圖，可以看到:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003e一個 repo\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e多個 projects\u003c/strong\u003e (三個 app 加上兩個 libs)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e共用 libs\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-27-22-50-05.png\" alt=\"MonoRepo\"\u003e\u003c/p\u003e\n\u003cp\u003eMonorepo 架構的主要目的是希望集中管理套件版本。\u003c/p\u003e\n\u003cp\u003e透過只管理一個 \u003ccode\u003epackage.json\u003c/code\u003e，可以發現好處是套件版本管理方便、而壞處是一個 repo 有多個 projects，檔案容易變非常大，讓 git 版控軟體跑起來較吃力。\u003c/p\u003e\n\u003cp\u003e另外 Monorepo 讓 apps 之間共用 libs 變得方便簡單，所以可以降低重複程式碼的機率。\n也可以讓 Lerna、yarn 等套件管理工具更方便的減少重複的套件安裝。\u003c/p\u003e\n\u003cp\u003e而以 Nx 來說，更酷的特色是可以在同一個 repo 裡同時使用 react 和 angular 共同開發一個 app。\u003c/p\u003e\n\u003cp\u003e雖然也可以使用 rollupjs 來達到不同前端框架共同開發一個 app 的效果。\u003c/p\u003e\n\u003cp\u003e但 Nx 就像 monorepo 全家桶: 提供一個 Nx workspace 讓你的 monorepo 開發更容易。\u003c/p\u003e\n\u003cp\u003e接下來，在看看 Nx 之前，先來一些先備知識。\u003c/p\u003e\n\u003ch2 id=\"2-簡介-nx-工具與專有名詞解釋\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-簡介-nx-工具與專有名詞解釋\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2. 簡介 Nx 工具與專有名詞解釋\u003c/h2\u003e\n\u003ch3 id=\"2-1-什麼是-nx-\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-1-什麼是-nx-\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2-1. 什麼是 Nx ?\u003c/h3\u003e\n\u003cp\u003e官網: \u003ca href=\"https://nx.dev/\"\u003ehttps://nx.dev/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-27-23-55-50.png\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e聰明、可擴充的建置框架，Nx 幫助任何規模的架構、測試、建置。\n(Smart, Extensible Build Framework Nx helps architect, test, build at any scale:)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e以現代框架進行整合。(integrations with modern frameworks)\u003c/li\u003e\n\u003cli\u003e計算快取。(computation caching)\u003c/li\u003e\n\u003cli\u003e聰明的重新建置被修改過的專案。(smart rebuilds of affected projects)\u003c/li\u003e\n\u003cli\u003e分散式任務執行。(distributed task execution)\u003c/li\u003e\n\u003cli\u003e強大的程式碼產生器。(powerful code generators)\u003c/li\u003e\n\u003cli\u003e支援 VSCode 和 WebStorm 編輯器。(editor support (VSCode, WebStorm))\u003c/li\u003e\n\u003cli\u003e(GitHub apps)\u003c/li\u003e\n\u003cli\u003e還有更多。(and more.)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2-2-nx-的製作團隊\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-2-nx-的製作團隊\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2-2. Nx 的製作團隊\u003c/h3\u003e\n\u003cp\u003enarwhal 簡寫 Nrwl，是獨角鯨的英文。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-27-23-57-12.png\"\u003e\u003c/p\u003e\n\u003cp\u003e顧問、工程、訓練。\nConsulting. Engineering. Training.\u003c/p\u003e\n\u003cp\u003eNrwl 創立於 2016 12 月，以 Angular 團隊成員、多位前 Google 員工、Jeff Cross、Victor Savkin 所組成。\u003c/p\u003e\n\u003cp\u003e如今已有 18 位左右成員 (在美國、加拿大和英國)。\u003c/p\u003e\n\u003cp\u003eNrwl 也是開源開發工具們的製作者: 給 monorepo 開發用的 Nx、和 Angular Console。\u003c/p\u003e\n\u003cp\u003eNrwl was founded in December 2016 by Angular team members and former Googlers, Jeff Cross and Victor Savkin, and today has around 18 team members in the US, Canada and UK.\nNrwl is also the creator of open-source dev tools: Nx for monorepo development, and Angular Console.\u003c/p\u003e\n\u003ch3 id=\"2-3-angular-monorepo-patterns\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-3-angular-monorepo-patterns\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2-3. Angular monorepo patterns\u003c/h3\u003e\n\u003cp\u003e這本書說明了 nx 是如何實踐 monerepo 概念。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-27-23-59-52.png\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://connect.nrwl.io/app/books\"\u003ehttps://connect.nrwl.io/app/books\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://nrwl.io/products\"\u003ehttps://nrwl.io/products\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2-4-nx-與-angular-淵源不淺\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-4-nx-與-angular-淵源不淺\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2-4. Nx 與 Angular 淵源不淺\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-00-06-48.png\"\u003e\u003c/p\u003e\n\u003cp\u003e上面這兩位 Nx 開發的主導者是 Google 的前員工，且對 Angular 都有相當深入的理解。\n但 Nx 官網上有不少 react 的開發教學，如果有公司想要從 react 轉到 angular(或是 angular 轉 react 為主)，\n感覺透過 Nx 的幫助可以慢慢地移花接木(不然 Nx 也至少可以讓這兩框架和平共處)。😆\u003c/p\u003e\n\u003ch3 id=\"2-5-angular-詞彙表\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-5-angular-詞彙表\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2-5. Angular 詞彙表\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/glossary#workspace\"\u003eWorkspace\u003c/a\u003e (工作區)\u003c/p\u003e\n\u003cp\u003e一個 Angular 所有專案的集合(可以用 Angular CLI 操作這個集合)，通常會在 git 版本控制的 repository 中。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/glossary#project\"\u003eProject\u003c/a\u003e (專案)\u003c/p\u003e\n\u003cp\u003e可以通過 Angular CLI 命令創建或修改的獨立應用程式或函式庫。可在 angular.json 中配置 workspace 中的所有 projects。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/glossary#library\"\u003eLibrary\u003c/a\u003e (函式庫)\u003c/p\u003e\n\u003cp\u003e一種 Angular 專案。用來讓其它 Angular 應用包含它，以提供各種功能。函式庫不是一個完整的 Angular 應用，不能獨立執行。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/typescript-configuration#configuration-files\"\u003eTypeScript 配置\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e一個 Angular 工作區中包含多個 TypeScript 配置檔案。在 root，有兩個主要的 TypeScript 配置檔案：tsconfig.json 檔案和 tsconfig.app.json 檔案。\u003ca href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#tsconfig-bases\"\u003e使用 extends 進行配置繼承\u003c/a\u003e。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/glossary#schematic\"\u003eSchematic\u003c/a\u003e (原理圖)\u003c/p\u003e\n\u003cp\u003eAngular CLI 使用原理圖來產生和修改 Angular 專案及其部件。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCollection (集合)\u003c/p\u003e\n\u003cp\u003e在 Angular 中，是指收錄在同一個 \u003ca href=\"https://angular.tw/guide/glossary#npm-package\"\u003enpm 套件\u003c/a\u003e 中的一組原理圖（schematics）。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-00-23-52.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2-6-nx-名詞解釋\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-6-nx-名詞解釋\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2-6. Nx 名詞解釋\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGenerators (產生器)\n產生器提供了一種方法，來自動執行您在開發工作流程中，經常執行的許多任務。\n在 Nx 中，可以使用 \u003ccode\u003e@nrwl/devkit\u003c/code\u003e 或 \u003ccode\u003e@angular-devkit\u003c/code\u003e ，來製作產生器。\n使用 \u003ccode\u003e@angular-devkit\u003c/code\u003e 製作的稱為 schematics (原理圖)。\u003c/p\u003e\n\u003cp\u003e下圖為 Nx 官網的 sidebar 的一小部分截圖，可以看見 Generator 有不少篇幅介紹。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-21-51-09.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2-7-nx-的-generators-的使用方式\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-7-nx-的-generators-的使用方式\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2-7. Nx 的 Generators 的使用方式\u003c/h3\u003e\n\u003cp\u003e可以發現 Nx 的 \u003ccode\u003e[plugin]:[generator-name]\u003c/code\u003e 就是 Angular 的 \u003ccode\u003e[collections]:[schematic]\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e有用 angular 寫過 schematic 的人有福了，可以更快上手 Nx 的 generator。🎉\u003c/p\u003e\n\u003cp\u003e以下是關於如何調用 gnerator 的內容(截自官網):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e調用插件產生器 \u003ca href=\"https://nx.dev/l/a/generators/using-schematics#invoking-plugin-generators\"\u003eInvoking Plugin Generators\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e產生器可以讓你以簡單和可重複的方式新增修改程式碼。可以使用 \u003ccode\u003enx generate\u003c/code\u003e 指令來調用 (invoked) 產生器。\nGenerators allow you to create or modify your codebase in a simple and repeatable way. Generators are invoked using the nx generate command.\u003c/p\u003e\n\u003cpre class=\"language-cmd\"\u003e\u003ccode class=\"language-cmd\"\u003enx generate [plugin]:[generator-name] [options]\nnx generate @nrwl/angular:component mycmp --project=myapp\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在使用產生器前有一個乾淨的 git 工作路徑很重要，因為這樣你能輕易的還原變動 (revert changes)、並使用不一樣的設定來重新調用產生器。\nIt is important to have a clean git working directory before invoking a generator so that you can easily revert changes and re-invoke the generator with different inputs.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2-8-小補充-關於-collection-為何都是xxxooo這樣命名\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2-8-小補充-關於-collection-為何都是xxxooo這樣命名\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2-8. 小補充: 關於 collection 為何都是「＠xxx/ooo」這樣命名?\u003c/h3\u003e\n\u003cp\u003e這是 npm 的命名規則，詳情可以參考 npm 官網影片: \u003ca href=\"https://www.youtube.com/watch?v=O6JoXGnHK_Y\"\u003eWorking with npm private modules\n\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e＠後的字稱為 \u003ccode\u003e@scope\u003c/code\u003e，通常是 npm 的帳號名字(尤其要 publish 到 npm 上的話，就是 \u003ccode\u003e@username\u003c/code\u003e 的意思。)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-21-53-15.png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"3-感受一下-nx-的-monorepo-專案\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#3-感受一下-nx-的-monorepo-專案\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e3. 感受一下 Nx 的 monorepo 專案\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAngular workspace 的 libs 通常都會有一個自己的 \u003ccode\u003epackage.json\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-00-24-21.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNx workspace 預設共用一個 \u003ccode\u003epackage.json\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-00-28-00.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"3-1-產生一個-nx-的-workspace\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#3-1-產生一個-nx-的-workspace\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e3-1. 產生一個 Nx 的 workspace\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://www.npmjs.com/package/create-nx-workspace\"\u003ehttps://www.npmjs.com/package/create-nx-workspace\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-21-48-43.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"3-2-nx-的-workspace-圖示\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#3-2-nx-的-workspace-圖示\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e3-2. Nx 的 workspace 圖示\u003c/h3\u003e\n\u003cp\u003e除了圖示裡的這些，Nx workspace 也可以用來整合開發其他框架(最後面會補充)。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-22-18-03.png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"4-快速上手-nx-console-操作-generaterun\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#4-快速上手-nx-console-操作-generaterun\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e4. 快速上手 Nx Console 操作 (Generate、Run)\u003c/h2\u003e\n\u003ch3 id=\"4-1-nx-console-簡介\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#4-1-nx-console-簡介\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e4-1. Nx Console 簡介\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eNx Console 套件安裝\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://marketplace.visualstudio.com/items?itemName=nrwl.angular-console\"\u003eInstall from the VS Code Marketplace\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/nrwl/nx-console\"\u003eContribute on GitHub\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNx Console 前生今世\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eNx Console\u003c/code\u003e 前生為 \u003ccode\u003eAngular Console\u003c/code\u003e，詳情可以看這篇文章:\n\u003ca href=\"https://blog.nrwl.io/re-introducing-nx-console-a21fa9f4f668\"\u003ehttps://blog.nrwl.io/re-introducing-nx-console-a21fa9f4f668\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eAngular Console\u003c/code\u003e 是一個桌面應用程式 (Desktop App)。\u003c/p\u003e\n\u003cp\u003e最一開始是以 \u003ccode\u003eElectron\u003c/code\u003e 在開發，後來 \u003ccode\u003eAngular Console\u003c/code\u003e 團隊將桌面應用程式移植到 VS Code 的擴充套件上。結果發現效能很糟...\u003c/p\u003e\n\u003cp\u003e所以他們就決定打掉重練： 以 VS Code 套件提供的基底重新開發一個擴充套件，\u003c/p\u003e\n\u003cp\u003e並且順帶將套件重新命名為 \u003ccode\u003eNx Console\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eNx Console\u003c/code\u003e 包括 \u003ccode\u003eAngular Console\u003c/code\u003e 和 \u003ccode\u003eNx\u003c/code\u003e 的功能，最後連 \u003ccode\u003eNx\u003c/code\u003e 和 \u003ccode\u003eAngular Console\u003c/code\u003e 的製作團隊也整併再一起了。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-22-21-50.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNx 套件教學\u003c/p\u003e\n\u003cp\u003e如果不小心跳過一開始的新手教學，可以到 github 看，\u003ccode\u003eNx Console\u003c/code\u003e 套件的也是以 \u003ccode\u003eNx 架構\u003c/code\u003e 寫成的。😎\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/nrwl/nx-console/tree/master/apps/vscode/src/getting-started\"\u003ehttps://github.com/nrwl/nx-console/tree/master/apps/vscode/src/getting-started\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNx Console 官網主打口號\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eNx 專用的純 UI 介面。(True UI for Nx)\u003c/li\u003e\n\u003cli\u003e專家和初學皆適用。(Useful for both experts and beginners)\u003c/li\u003e\n\u003cli\u003e豐富的文件說明。(Documentation)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e介面分三個區塊\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGenerate \u0026#x26; Run Target\n開發專案時常用到的指令。等等下面會講一下 \u003ccode\u003eGenerate\u003c/code\u003e 和 \u003ccode\u003eRun\u003c/code\u003e。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCommon Nx Commands\n關於被修改過的檔案會有一些功能可以用，另外還有產生專案相依狀態的圖表、依次執行多個指令的指令可以用。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eProjects\n這裡就是圖示化 \u003ccode\u003eangular.json\u003c/code\u003e 的 \u003ccode\u003eprojects\u003c/code\u003e 區塊，可以直接按按鈕執行 script。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-22-35-51.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"4-2-nx-generate-常見的-collection\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#4-2-nx-generate-常見的-collection\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e4-2. nx generate (常見的 collection)\u003c/h3\u003e\n\u003cp\u003e當你按下 \u003ccode\u003eGenerate\u003c/code\u003e 的按鈕時，就會幫你執行 \u003ccode\u003enx generate\u003c/code\u003e，並根據 \u003ccode\u003egenerator\u003c/code\u003e (\u003ccode\u003eschematic\u003c/code\u003e) 產生預期的結果。\n以下列出常見的 collection:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@angular/cdk\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@angular/material\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e以上兩個都是 Angular Material 相關 collection。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-22-53-23.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@nrwl/storybook\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eStorybook 相關 collection。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@nrwl/angular\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eNx cli 預設的 collection (1)。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@nrwl/workspace\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eNx cli 預設的 collection (2)。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@schematics/angular\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eAngular cli 預設的 collection。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"4-3-產生-library-有三個-schematic-可以用\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#4-3-產生-library-有三個-schematic-可以用\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e4-3. 產生 Library 有三個 schematic 可以用\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@schematics/angular\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-22-58-21.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@nrwl/angular\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-22-59-05.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-23-00-04.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-23-00-23.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e@nrwl/workspace\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-22-59-20.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ecollection 偵測方式 (node_module/ 全部偵測):\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/nrwl/nx-console/blob/ad3578a1a2/libs/server/src/lib/utils/read-collections.ts\"\u003ehttps://github.com/nrwl/nx-console/blob/ad3578a1a2/libs/server/src/lib/utils/read-collections.ts\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evscode-angular-schematics collection 偵測方式:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/cyrilletuzi/vscode-angular-schematics/blob/main/src/defaults.ts\"\u003ehttps://github.com/cyrilletuzi/vscode-angular-schematics/blob/main/src/defaults.ts\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"4-4-nx-run\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#4-4-nx-run\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e4-4. nx run\u003c/h3\u003e\n\u003cp\u003e同時 build 所有 projects 內有 build script 的專案。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003enx run-many --target=build --all --parallel\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-23-01-03.png\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://angular.tw/cli/run\"\u003ehttps://angular.tw/cli/run\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://nx.dev/l/a/cli/run-many\"\u003ehttps://nx.dev/l/a/cli/run-many\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"5-其他補充\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#5-其他補充\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e5. 其他補充\u003c/h2\u003e\n\u003ch3 id=\"5-1-常見的-monorepo-架構開發工具\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#5-1-常見的-monorepo-架構開發工具\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e5-1. 常見的 Monorepo 架構開發工具\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-23-03-34.png\"\u003e\u003c/p\u003e\n\u003cp\u003e還有更多工具: \u003ca href=\"https://github.com/korfuri/awesome-monorepo\"\u003ehttps://github.com/korfuri/awesome-monorepo\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"5-2-誤解-nx-和-yarn-workspacelerna-只能擇一使用\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#5-2-誤解-nx-和-yarn-workspacelerna-只能擇一使用\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e5-2. 誤解: Nx 和 Yarn Workspace/Lerna 只能擇一使用?\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://nx.dev/l/n/guides/lerna-and-nx#clarifying-misconceptions\"\u003ehttps://nx.dev/l/n/guides/lerna-and-nx#clarifying-misconceptions\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-23-05-05.png\"\u003e\u003c/p\u003e\n\u003cp\u003e功能沒有重疊，Nx 不是 package manager 也不是 JS-only 的工具。可一起用。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-23-05-31.png\"\u003e\u003c/p\u003e\n\u003cp\u003eNx 官方 youtube 頻道相關影片\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.youtube.com/watch?v=Edv7ZeI8Bwc\"\u003eHow to Migrate From Lerna to Nx\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.youtube.com/watch?v=BO1rwynFBLM\"\u003eLerna/Yarn to Nx: Faster Build Times + Better Dev Ergonomics\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"5-3-查看有哪些-nx-plugin-可以使用\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#5-3-查看有哪些-nx-plugin-可以使用\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e5-3. 查看有哪些 Nx plugin 可以使用\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003enx list\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e或到官網查看列表:\n\u003ca href=\"https://nx.dev/community#community-plugin-list\"\u003ehttps://nx.dev/community#community-plugin-list\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"5-4-nx-13\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#5-4-nx-13\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e5-4. Nx 13\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2021-12-28-23-07-16.png\"\u003e\u003c/p\u003e\n\u003cp\u003eWebpack 5 Module Federation Plugin\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nx.dev/l/a/guides/setup-mfe-with-angular\"\u003ehttps://nx.dev/l/a/guides/setup-mfe-with-angular\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eMicro Frontends with Angular using Module Federation - Manfred Steyer\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"5-5-nx-學習資源\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#5-5-nx-學習資源\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e5-5. Nx 學習資源\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eNx 官網\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://nx.dev/\"\u003ehttps://nx.dev/\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNx Console for VSCode 介紹\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://nx.dev/latest/angular/getting-started/console#nx-console-for-vscode\"\u003ehttps://nx.dev/latest/angular/getting-started/console#nx-console-for-vscode\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eGithub 上用 Nx + Angular 星星數最多的專案 Angular Spotify by Trung Vo\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/trungk18/angular-spotify\"\u003ehttps://github.com/trungk18/angular-spotify\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAngular Spotify 作者專訪 youtube\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://youtu.be/w04CfqZI8Xo\"\u003ehttps://youtu.be/w04CfqZI8Xo\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNx Conf 連結 (2021/9/16-2021/9/17)\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://youtu.be/oG2QbFquraA\"\u003ehttps://youtu.be/oG2QbFquraA\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.youtube.com/watch?v=hlGOaGDsWKg\"\u003ehttps://www.youtube.com/watch?v=hlGOaGDsWKg\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e書\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://connect.nrwl.io/app/books\"\u003ehttps://connect.nrwl.io/app/books\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://nrwl.io/products\"\u003ehttps://nrwl.io/products\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"tags\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#tags\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTags\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca class=\"color-tag\" style=\"--tag-color: #028f1e;\" href=\"/notes/Po0jmNACWQVrxnoTRT6kr\"\u003ePROG.Nx\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"root","title":"( Φ w Φ )","vault":{"fsPath":"vault"},"type":"note","desc":"","links":[],"anchors":{},"fname":"root","updated":1647333117884,"created":1595961348801,"parent":null,"children":["Cybv0wy1d2NbWoMaJ9Xst","u4tSbmkJewrKonY3sL544","WAKWMq3SeVmlAmZRqCbpB","rEbR1FrKkZzyjo6ahAgm3"],"data":{},"contentHash":"6b7c53c1ca1b64ad19cd7fc99b97b1cf","custom":{"stub":false,"nav_order":0,"permalink":"/"},"body":"\n\r\nDendron 官網: https://wiki.dendron.so/\r\n\r\n\u003c!-- ![[首次使用 Dendron 紀錄|drops.2021.1226-first-day#使用-dendron-紀錄:#*]] --\u003e\r\n\u003cdiv class=\"portal-container\"\u003e\r\n\u003cdiv class=\"portal-head\"\u003e\r\n\u003cdiv class=\"portal-backlink\"\u003e\r\n\u003cdiv class=\"portal-title\"\u003eFrom \u003cspan class=\"portal-text-title\"\u003e1226 使用 Dendron 紀錄\u003c/span\u003e\u003c/div\u003e\r\n\u003ca href=\"/notes/DTeYpEuPv3KIHugUyqZPu\" class=\"portal-arrow\"\u003eGo to text \u003cspan class=\"right-arrow\"\u003e→\u003c/span\u003e\u003c/a\u003e\r\n\u003c/div\u003e\r\n\u003c/div\u003e\r\n\u003cdiv id=\"portal-parent-anchor\" class=\"portal-parent\" markdown=\"1\"\u003e\r\n\u003cdiv class=\"portal-parent-fader-top\"\u003e\u003c/div\u003e\r\n\u003cdiv class=\"portal-parent-fader-bottom\"\u003e\u003c/div\u003e\u003ch2 id=\"使用-dendron-紀錄\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#使用-dendron-紀錄\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e使用 Dendron 紀錄\u003c/h2\u003e\r\n\u003c/div\u003e\u003c/div\u003e\r\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":4,"useFMTitle":true,"useNoteTitleForLink":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","siteUrl":"https://kiwijang.github.io","usePrettyRefs":true,"title":"/ᐠ ._. ᐟ\\✧","description":"Personal knowledge space","siteLastModified":true,"gh_edit_repository":"https://github.com/kiwijang/kiwijang.github.io.git","gh_edit_branch":"master","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"gh_edit_link":"false","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false}},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"Ee1iUWT8QmZe4CAuuwQxs"},"buildId":"pTkboF1Eis4NArFIps-xN","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>