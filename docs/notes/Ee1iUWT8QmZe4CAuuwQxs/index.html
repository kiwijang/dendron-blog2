<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>2021-1227-從 Nx 入門 monorepo</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="2021-1227-從 Nx 入門 monorepo"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://kiwijang.github.io/dendron-blog/notes/Ee1iUWT8QmZe4CAuuwQxs/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2021/12/27"/><meta property="article:modified_time" content="2021/12/27"/><meta property="article:tag" content="PROG.Nx"/><link rel="canonical" href="https://kiwijang.github.io/dendron-blog/notes/Ee1iUWT8QmZe4CAuuwQxs/"/><meta name="next-head-count" content="15"/><link rel="preload" href="/dendron-blog/_next/static/css/1b6990ed1bd063e3.css" as="style"/><link rel="stylesheet" href="/dendron-blog/_next/static/css/1b6990ed1bd063e3.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/dendron-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/dendron-blog/_next/static/chunks/webpack-39302017e3f1e755.js" defer=""></script><script src="/dendron-blog/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/dendron-blog/_next/static/chunks/main-8b4295db4df7153a.js" defer=""></script><script src="/dendron-blog/_next/static/chunks/pages/_app-4f2144a648e9d4f6.js" defer=""></script><script src="/dendron-blog/_next/static/chunks/155-55f0622fbbf90797.js" defer=""></script><script src="/dendron-blog/_next/static/chunks/pages/notes/%5Bid%5D-f78f1cc50d3f94ac.js" defer=""></script><script src="/dendron-blog/_next/static/sXK_yBI9Iir9ebxXt0a-a/_buildManifest.js" defer=""></script><script src="/dendron-blog/_next/static/sXK_yBI9Iir9ebxXt0a-a/_ssgManifest.js" defer=""></script><script src="/dendron-blog/_next/static/sXK_yBI9Iir9ebxXt0a-a/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div class="ant-col ant-col-xs-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"></div><div class="ant-col ant-col-xs-12"></div><div style="margin-left:4px;display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc((100% - 992px) / 2 + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="2021-1227-從-nx-入門-monorepo"><a aria-hidden="true" class="anchor-heading" href="#2021-1227-從-nx-入門-monorepo"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>2021-1227-從 Nx 入門 monorepo</h1>
<h2 id="前言"><a aria-hidden="true" class="anchor-heading" href="#前言"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>前言</h2>
<blockquote>
<p>深入淺出 Monorepo 架構 — 使用 Nx Console 實現一個 Monorepo 架構的專案</p>
</blockquote>
<p>導讀影片: <a href="https://www.youtube.com/watch?v=9iU_IE6vnJ8">Monorepos - How the Pros Scale Huge Software Projects // Turborepo vs Nx</a></p>
<h2 id="簡介-monorepo-架構"><a aria-hidden="true" class="anchor-heading" href="#簡介-monorepo-架構"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>簡介 Monorepo 架構</h2>
<p>Monorepo (全名 Monolithic Repository)，符合以下三個條件:</p>
<ol>
<li>One Repository</li>
<li>Multiple projects</li>
<li>Shared Libraries</li>
</ol>
<p>如下圖，可以看到:</p>
<ol>
<li><strong>一個 repo</strong></li>
<li><strong>多個 projects</strong> (三個 app 加上兩個 libs)</li>
<li><strong>共用 libs</strong>。</li>
</ol>
<p><img src="/dendron-blog/assets/images/2021-12-27-22-50-05.png" alt="MonoRepo"></p>
<p>Monorepo 架構的主要目的是希望集中管理套件版本。</p>
<p>透過只管理一個 <code>package.json</code>，可以發現好處是套件版本管理方便、而壞處是一個 repo 有多個 projects，檔案容易變非常大，讓 git 版控軟體跑起來較吃力。</p>
<p>另外 Monorepo 讓 apps 之間共用 libs 變得方便簡單，所以可以降低重複程式碼的機率。
也可以讓 Lerna、yarn 等套件管理工具更方便的減少重複的套件安裝。</p>
<p>而以 Nx 來說，更酷的特色是可以在同一個 repo 裡同時使用 react 和 angular 共同開發一個 app。</p>
<p>雖然也可以使用 rollupjs 來達到不同前端框架共同開發一個 app 的效果。</p>
<p>但 Nx 就像 monorepo 全家桶: 提供一個 Nx workspace 讓你的 monorepo 開發更容易。</p>
<p>接下來，在看看 Nx 之前，先來一些先備知識 😆</p>
<h2 id="簡介-nx-工具與專有名詞解釋"><a aria-hidden="true" class="anchor-heading" href="#簡介-nx-工具與專有名詞解釋"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>簡介 Nx 工具與專有名詞解釋</h2>
<h3 id="什麼是-nx-"><a aria-hidden="true" class="anchor-heading" href="#什麼是-nx-"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>什麼是 Nx ?</h3>
<p>官網: <a href="https://nx.dev/">https://nx.dev/</a></p>
<p><img src="/dendron-blog/assets/images/2021-12-27-23-55-50.png"></p>
<blockquote>
<p>Smart, Extensible Build Framework
Nx helps architect, test, build at any scale:</p>
</blockquote>
<ul>
<li>integrations with modern frameworks</li>
<li>computation caching</li>
<li>smart rebuilds of affected projects</li>
<li>distributed task execution</li>
<li>powerful code generators</li>
<li>editor support (VSCode, WebStorm)</li>
<li>GitHub apps</li>
<li>and more.</li>
</ul>
<h3 id="nx-的製作團隊"><a aria-hidden="true" class="anchor-heading" href="#nx-的製作團隊"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Nx 的製作團隊</h3>
<p>narwhal 簡寫 Nrwl，是獨角鯨的英文。</p>
<p><img src="/dendron-blog/assets/images/2021-12-27-23-57-12.png"></p>
<p>Consulting. Engineering. Training.
Nrwl was founded in December 2016 by Angular team members and former Googlers, Jeff Cross and Victor Savkin, and today has around 18 team members in the US, Canada and UK.
Nrwl is also the creator of open-source dev tools: Nx for monorepo development, and Angular Console.</p>
<h3 id="angular-monorepo-patterns"><a aria-hidden="true" class="anchor-heading" href="#angular-monorepo-patterns"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Angular monorepo patterns</h3>
<p>這本書說明了 nx 是如何實踐 monerepo 概念</p>
<p><img src="/dendron-blog/assets/images/2021-12-27-23-59-52.png"></p>
<ul>
<li><a href="https://connect.nrwl.io/app/books">https://connect.nrwl.io/app/books</a></li>
<li><a href="https://nrwl.io/products">https://nrwl.io/products</a></li>
</ul>
<h3 id="nx-與-angular-淵源不淺"><a aria-hidden="true" class="anchor-heading" href="#nx-與-angular-淵源不淺"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Nx 與 Angular 淵源不淺</h3>
<p><img src="/dendron-blog/assets/images/2021-12-28-00-06-48.png"></p>
<p>上面這兩位 Nx 開發的主導者是 Google 的前員工，且對 Angular 都有相當深入的理解。
但 Nx 官網上有不少 react 的開發教學，如果有公司想要從 react 轉到 angular(或是 angular 轉 react 為主)，感覺透過 Nx 的幫助可以慢慢地移花接木(不然 Nx 也至少可以讓這兩框架和平共處 😆)</p>
<h3 id="angular-詞彙表"><a aria-hidden="true" class="anchor-heading" href="#angular-詞彙表"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Angular 詞彙表</h3>
<ul>
<li>
<p><a href="https://angular.tw/guide/glossary#workspace">Workspace</a> (工作區)</p>
<p>一個 Angular 所有專案的集合(可以用 Angular CLI 操作這個集合)，通常會在 git 版本控制的 repository 中。</p>
</li>
<li>
<p><a href="https://angular.tw/guide/glossary#project">Project</a> (專案)</p>
<p>可以通過 Angular CLI 命令創建或修改的獨立應用程式或函式庫。可在 angular.json 中配置 workspace 中的所有 projects。</p>
</li>
<li>
<p><a href="https://angular.tw/guide/glossary#library">Library</a> (函式庫)</p>
<p>一種 Angular 專案。用來讓其它 Angular 應用包含它，以提供各種功能。函式庫不是一個完整的 Angular 應用，不能獨立執行。</p>
</li>
<li>
<p><a href="https://angular.tw/guide/typescript-configuration#configuration-files">TypeScript 配置</a></p>
<p>一個 Angular 工作區中包含多個 TypeScript 配置檔案。在 root，有兩個主要的 TypeScript 配置檔案：tsconfig.json 檔案和 tsconfig.app.json 檔案。<a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#tsconfig-bases">使用 extends 進行配置繼承</a>。</p>
</li>
<li>
<p><a href="https://angular.tw/guide/glossary#schematic">Schematic</a> (原理圖)</p>
<p>Angular CLI 使用原理圖來產生和修改 Angular 專案及其部件。</p>
</li>
<li>
<p>Collection (集合)</p>
<p>在 Angular 中，是指收錄在同一個 <a href="https://angular.tw/guide/glossary#npm-package">npm 套件</a> 中的一組原理圖（schematics）。</p>
<p><img src="/dendron-blog/assets/images/2021-12-28-00-23-52.png"></p>
</li>
</ul>
<h2 id="感受一下-nx-的-monorepo-專案"><a aria-hidden="true" class="anchor-heading" href="#感受一下-nx-的-monorepo-專案"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>感受一下 Nx 的 monorepo 專案</h2>
<ul>
<li>
<p>Angular workspace 的 libs 通常都會有一個自己的 <code>package.json</code>
<img src="/dendron-blog/assets/images/2021-12-28-00-29-52.png"></p>
</li>
<li>
<p>Nx workspace 預設共用一個 <code>package.json</code>
<img src="/dendron-blog/assets/images/2021-12-28-00-28-00.png"></p>
</li>
</ul>
<h2 id="產生一個-nx-的-workspace"><a aria-hidden="true" class="anchor-heading" href="#產生一個-nx-的-workspace"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>產生一個 Nx 的 workspace</h2>
<h2 id="快速上手-nx-console-操作-generaterun"><a aria-hidden="true" class="anchor-heading" href="#快速上手-nx-console-操作-generaterun"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>快速上手 Nx Console 操作 (Generate、Run)</h2>
<h2 id="其他補充"><a aria-hidden="true" class="anchor-heading" href="#其他補充"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>其他補充</h2>
<hr>
<h2 id="tags"><a aria-hidden="true" class="anchor-heading" href="#tags"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Tags</h2>
<ol>
<li><a class="color-tag" style="--tag-color: #028f1e;" href="/dendron-blog/notes/Po0jmNACWQVrxnoTRT6kr">PROG.Nx</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#前言" title="前言">前言</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#簡介-monorepo-架構" title="簡介 Monorepo 架構">簡介 Monorepo 架構</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#簡介-nx-工具與專有名詞解釋" title="簡介 Nx 工具與專有名詞解釋">簡介 Nx 工具與專有名詞解釋</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#什麼是-nx-" title="什麼是 Nx ?">什麼是 Nx ?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#nx-的製作團隊" title="Nx 的製作團隊">Nx 的製作團隊</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#angular-monorepo-patterns" title="Angular monorepo patterns">Angular monorepo patterns</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#nx-與-angular-淵源不淺" title="Nx 與 Angular 淵源不淺">Nx 與 Angular 淵源不淺</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#angular-詞彙表" title="Angular 詞彙表">Angular 詞彙表</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#感受一下-nx-的-monorepo-專案" title="感受一下 Nx 的 monorepo 專案">感受一下 Nx 的 monorepo 專案</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#產生一個-nx-的-workspace" title="產生一個 Nx 的 workspace">產生一個 Nx 的 workspace</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#快速上手-nx-console-操作-generaterun" title="快速上手 Nx Console 操作 (Generate、Run)">快速上手 Nx Console 操作 (Generate、Run)</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#其他補充" title="其他補充">其他補充</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"Ee1iUWT8QmZe4CAuuwQxs","title":"2021-1227-從 Nx 入門 monorepo","vault":{"fsPath":"vault"},"type":"note","desc":"","links":[{"type":"frontmatterTag","from":{"fname":"drops.2021-1227-從Nx入門monorepo","id":"Ee1iUWT8QmZe4CAuuwQxs","vaultName":"vault"},"value":"tags.PROG.Nx","alias":"PROG.Nx","xvault":false,"to":{"fname":"tags.PROG.Nx"}}],"anchors":{"前言":{"type":"header","text":"前言","value":"前言","line":10,"column":0,"depth":2},"簡介-monorepo-架構":{"type":"header","text":"簡介 Monorepo 架構","value":"簡介-monorepo-架構","line":16,"column":0,"depth":2},"簡介-nx-工具與專有名詞解釋":{"type":"header","text":"簡介 Nx 工具與專有名詞解釋","value":"簡介-nx-工具與專有名詞解釋","line":47,"column":0,"depth":2},"什麼是-nx-":{"type":"header","text":"什麼是 Nx ?","value":"什麼是-nx-","line":49,"column":0,"depth":3},"nx-的製作團隊":{"type":"header","text":"Nx 的製作團隊","value":"nx-的製作團隊","line":67,"column":0,"depth":3},"angular-monorepo-patterns":{"type":"header","text":"Angular monorepo patterns","value":"angular-monorepo-patterns","line":77,"column":0,"depth":3},"nx-與-angular-淵源不淺":{"type":"header","text":"Nx 與 Angular 淵源不淺","value":"nx-與-angular-淵源不淺","line":86,"column":0,"depth":3},"angular-詞彙表":{"type":"header","text":"Angular 詞彙表","value":"angular-詞彙表","line":93,"column":0,"depth":3},"感受一下-nx-的-monorepo-專案":{"type":"header","text":"感受一下 Nx 的 monorepo 專案","value":"感受一下-nx-的-monorepo-專案","line":121,"column":0,"depth":2},"產生一個-nx-的-workspace":{"type":"header","text":"產生一個 Nx 的 workspace","value":"產生一個-nx-的-workspace","line":129,"column":0,"depth":2},"快速上手-nx-console-操作-generaterun":{"type":"header","text":"快速上手 Nx Console 操作 (Generate、Run)","value":"快速上手-nx-console-操作-generaterun","line":131,"column":0,"depth":2},"其他補充":{"type":"header","text":"其他補充","value":"其他補充","line":133,"column":0,"depth":2}},"fname":"drops.2021-1227-從Nx入門monorepo","updated":1640622742624,"created":1640615759253,"parent":"u4tSbmkJewrKonY3sL544","children":[],"data":{},"contentHash":"943eb10f14dcb6fe56e877c119896761","custom":{},"tags":["PROG.Nx"]},"body":"\u003ch1 id=\"2021-1227-從-nx-入門-monorepo\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#2021-1227-從-nx-入門-monorepo\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e2021-1227-從 Nx 入門 monorepo\u003c/h1\u003e\n\u003ch2 id=\"前言\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#前言\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e前言\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e深入淺出 Monorepo 架構 — 使用 Nx Console 實現一個 Monorepo 架構的專案\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e導讀影片: \u003ca href=\"https://www.youtube.com/watch?v=9iU_IE6vnJ8\"\u003eMonorepos - How the Pros Scale Huge Software Projects // Turborepo vs Nx\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"簡介-monorepo-架構\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#簡介-monorepo-架構\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e簡介 Monorepo 架構\u003c/h2\u003e\n\u003cp\u003eMonorepo (全名 Monolithic Repository)，符合以下三個條件:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eOne Repository\u003c/li\u003e\n\u003cli\u003eMultiple projects\u003c/li\u003e\n\u003cli\u003eShared Libraries\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e如下圖，可以看到:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003e一個 repo\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e多個 projects\u003c/strong\u003e (三個 app 加上兩個 libs)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e共用 libs\u003c/strong\u003e。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/dendron-blog/assets/images/2021-12-27-22-50-05.png\" alt=\"MonoRepo\"\u003e\u003c/p\u003e\n\u003cp\u003eMonorepo 架構的主要目的是希望集中管理套件版本。\u003c/p\u003e\n\u003cp\u003e透過只管理一個 \u003ccode\u003epackage.json\u003c/code\u003e，可以發現好處是套件版本管理方便、而壞處是一個 repo 有多個 projects，檔案容易變非常大，讓 git 版控軟體跑起來較吃力。\u003c/p\u003e\n\u003cp\u003e另外 Monorepo 讓 apps 之間共用 libs 變得方便簡單，所以可以降低重複程式碼的機率。\n也可以讓 Lerna、yarn 等套件管理工具更方便的減少重複的套件安裝。\u003c/p\u003e\n\u003cp\u003e而以 Nx 來說，更酷的特色是可以在同一個 repo 裡同時使用 react 和 angular 共同開發一個 app。\u003c/p\u003e\n\u003cp\u003e雖然也可以使用 rollupjs 來達到不同前端框架共同開發一個 app 的效果。\u003c/p\u003e\n\u003cp\u003e但 Nx 就像 monorepo 全家桶: 提供一個 Nx workspace 讓你的 monorepo 開發更容易。\u003c/p\u003e\n\u003cp\u003e接下來，在看看 Nx 之前，先來一些先備知識 😆\u003c/p\u003e\n\u003ch2 id=\"簡介-nx-工具與專有名詞解釋\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#簡介-nx-工具與專有名詞解釋\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e簡介 Nx 工具與專有名詞解釋\u003c/h2\u003e\n\u003ch3 id=\"什麼是-nx-\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#什麼是-nx-\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e什麼是 Nx ?\u003c/h3\u003e\n\u003cp\u003e官網: \u003ca href=\"https://nx.dev/\"\u003ehttps://nx.dev/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/dendron-blog/assets/images/2021-12-27-23-55-50.png\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSmart, Extensible Build Framework\nNx helps architect, test, build at any scale:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003eintegrations with modern frameworks\u003c/li\u003e\n\u003cli\u003ecomputation caching\u003c/li\u003e\n\u003cli\u003esmart rebuilds of affected projects\u003c/li\u003e\n\u003cli\u003edistributed task execution\u003c/li\u003e\n\u003cli\u003epowerful code generators\u003c/li\u003e\n\u003cli\u003eeditor support (VSCode, WebStorm)\u003c/li\u003e\n\u003cli\u003eGitHub apps\u003c/li\u003e\n\u003cli\u003eand more.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"nx-的製作團隊\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#nx-的製作團隊\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eNx 的製作團隊\u003c/h3\u003e\n\u003cp\u003enarwhal 簡寫 Nrwl，是獨角鯨的英文。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/dendron-blog/assets/images/2021-12-27-23-57-12.png\"\u003e\u003c/p\u003e\n\u003cp\u003eConsulting. Engineering. Training.\nNrwl was founded in December 2016 by Angular team members and former Googlers, Jeff Cross and Victor Savkin, and today has around 18 team members in the US, Canada and UK.\nNrwl is also the creator of open-source dev tools: Nx for monorepo development, and Angular Console.\u003c/p\u003e\n\u003ch3 id=\"angular-monorepo-patterns\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#angular-monorepo-patterns\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eAngular monorepo patterns\u003c/h3\u003e\n\u003cp\u003e這本書說明了 nx 是如何實踐 monerepo 概念\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/dendron-blog/assets/images/2021-12-27-23-59-52.png\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://connect.nrwl.io/app/books\"\u003ehttps://connect.nrwl.io/app/books\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://nrwl.io/products\"\u003ehttps://nrwl.io/products\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"nx-與-angular-淵源不淺\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#nx-與-angular-淵源不淺\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eNx 與 Angular 淵源不淺\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"/dendron-blog/assets/images/2021-12-28-00-06-48.png\"\u003e\u003c/p\u003e\n\u003cp\u003e上面這兩位 Nx 開發的主導者是 Google 的前員工，且對 Angular 都有相當深入的理解。\n但 Nx 官網上有不少 react 的開發教學，如果有公司想要從 react 轉到 angular(或是 angular 轉 react 為主)，感覺透過 Nx 的幫助可以慢慢地移花接木(不然 Nx 也至少可以讓這兩框架和平共處 😆)\u003c/p\u003e\n\u003ch3 id=\"angular-詞彙表\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#angular-詞彙表\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eAngular 詞彙表\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/glossary#workspace\"\u003eWorkspace\u003c/a\u003e (工作區)\u003c/p\u003e\n\u003cp\u003e一個 Angular 所有專案的集合(可以用 Angular CLI 操作這個集合)，通常會在 git 版本控制的 repository 中。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/glossary#project\"\u003eProject\u003c/a\u003e (專案)\u003c/p\u003e\n\u003cp\u003e可以通過 Angular CLI 命令創建或修改的獨立應用程式或函式庫。可在 angular.json 中配置 workspace 中的所有 projects。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/glossary#library\"\u003eLibrary\u003c/a\u003e (函式庫)\u003c/p\u003e\n\u003cp\u003e一種 Angular 專案。用來讓其它 Angular 應用包含它，以提供各種功能。函式庫不是一個完整的 Angular 應用，不能獨立執行。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/typescript-configuration#configuration-files\"\u003eTypeScript 配置\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e一個 Angular 工作區中包含多個 TypeScript 配置檔案。在 root，有兩個主要的 TypeScript 配置檔案：tsconfig.json 檔案和 tsconfig.app.json 檔案。\u003ca href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#tsconfig-bases\"\u003e使用 extends 進行配置繼承\u003c/a\u003e。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://angular.tw/guide/glossary#schematic\"\u003eSchematic\u003c/a\u003e (原理圖)\u003c/p\u003e\n\u003cp\u003eAngular CLI 使用原理圖來產生和修改 Angular 專案及其部件。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCollection (集合)\u003c/p\u003e\n\u003cp\u003e在 Angular 中，是指收錄在同一個 \u003ca href=\"https://angular.tw/guide/glossary#npm-package\"\u003enpm 套件\u003c/a\u003e 中的一組原理圖（schematics）。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/dendron-blog/assets/images/2021-12-28-00-23-52.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"感受一下-nx-的-monorepo-專案\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#感受一下-nx-的-monorepo-專案\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e感受一下 Nx 的 monorepo 專案\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAngular workspace 的 libs 通常都會有一個自己的 \u003ccode\u003epackage.json\u003c/code\u003e\n\u003cimg src=\"/dendron-blog/assets/images/2021-12-28-00-29-52.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNx workspace 預設共用一個 \u003ccode\u003epackage.json\u003c/code\u003e\n\u003cimg src=\"/dendron-blog/assets/images/2021-12-28-00-28-00.png\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"產生一個-nx-的-workspace\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#產生一個-nx-的-workspace\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e產生一個 Nx 的 workspace\u003c/h2\u003e\n\u003ch2 id=\"快速上手-nx-console-操作-generaterun\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#快速上手-nx-console-操作-generaterun\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e快速上手 Nx Console 操作 (Generate、Run)\u003c/h2\u003e\n\u003ch2 id=\"其他補充\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#其他補充\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003e其他補充\u003c/h2\u003e\n\u003chr\u003e\n\u003ch2 id=\"tags\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#tags\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTags\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca class=\"color-tag\" style=\"--tag-color: #028f1e;\" href=\"/dendron-blog/notes/Po0jmNACWQVrxnoTRT6kr\"\u003ePROG.Nx\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"root","title":"👾 Collections","vault":{"fsPath":"vault"},"type":"note","desc":"","links":[],"anchors":{},"fname":"root","updated":1640613629447,"created":1595961348801,"parent":null,"children":["u4tSbmkJewrKonY3sL544","rEbR1FrKkZzyjo6ahAgm3"],"data":{},"contentHash":"0df6bd26cee0e20abd62109120a4c4dd","custom":{"stub":false,"nav_order":0,"permalink":"/"},"body":"\nThis is the root for your Dendron vault.\n\nIf you decide to publish your entire vault, it will be your landing page. You are free to customize any part of this page except the frontmatter at the top, between the `---`.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":4,"useFMTitle":true,"useNoteTitleForLink":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","siteUrl":"https://kiwijang.github.io","assetsPrefix":"/dendron-blog","usePrettyRefs":true,"title":"ｷﾀ━━━━(ﾟ∀ﾟ)━━━━!!","description":"Personal knowledge space","siteLastModified":true,"gh_edit_repository":"https://github.com/kiwijang/dendron-blog.git","gh_edit_branch":"gh-pages","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"gh_edit_link":"false","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false}},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"Ee1iUWT8QmZe4CAuuwQxs"},"buildId":"sXK_yBI9Iir9ebxXt0a-a","assetPrefix":"/dendron-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>