"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{9910:function(e,n,t){t.d(n,{Z:function(){return G}});var i=t(47568),r=t(70603),o=t(70655),a=t(85893),l=t(4604),s=t(71230),d=t(15746),c=t(96486),u=t.n(c),p=t(67294),f=t(42336),y=t(41664),m=t.n(y),g=t(99490);function h(e){var n,t,i,r=e.note,o=e.noteIndex,l=(0,f.gt)({note:r,noteIndex:o});try{n=u().get(r,"custom.date",!1)?(t=r.custom.date,i=g.DateTime.DATE_SHORT,g.DateTime.fromISO(t).toLocaleString(i)):function(e,n){return g.DateTime.fromMillis(e).toLocaleString(n)}(r.created,g.DateTime.DATE_SHORT)}catch(s){throw Error("no date found for note ".concat(r.id))}return(0,a.jsx)("div",{children:(0,a.jsxs)("article",{itemScope:!0,itemType:"https://schema.org/CreativeWork",children:[(0,a.jsx)("h2",{itemProp:"headline",children:(0,a.jsx)(m(),{href:l,children:r.title})}),!u().isUndefined(n)&&(0,a.jsx)("p",{children:n}),u().has(r,"custom.excerpt")&&(0,a.jsx)("p",{itemProp:"description",children:r.custom.excerpt})]})})}var x=t(9008),v=t.n(x),T=t(25935);function j(e){var n=e.content,t=(0,T.ZP)(n);return(0,a.jsx)(v(),{children:t})}var w=t(25903),I=t(2962),b=t(1512),E=function(e){return w.Time.DateTime.fromMillis(u().toInteger(e)).setZone("utc").toLocaleString("yyyy-LL-dd")};function k(e){var n=e.note,t=e.config,i=(0,b.vm)().router.asPath;if(u().some(["403"],(function(e){return i==="/notes/".concat(e,"/")})))return null;var r=w.PublishUtils.getSEOPropsFromConfig(t),o=w.PublishUtils.getSEOPropsFromNote(n),l=u().defaults(o,r),s=l.title,d=l.excerpt,c=(null===l||void 0===l?void 0:l.image)?[l.image]:[],p=function(e){var n=e.sitePath,t=e.seoProps,i=e.siteConfig;return t.canonicalBaseUrl?[i.siteUrl,n].join(""):t.canonicalUrl?t.canonicalUrl:[i.canonicalBaseUrl?i.canonicalBaseUrl:(0,f.N0)(i),n].join("")}({sitePath:i,seoProps:l,siteConfig:t.site}),y=l.twitter?{handle:l.twitter,site:l.twitter,cardType:"summary_large_image"}:void 0;return(0,a.jsx)(I.PB,{title:s,description:d,canonical:p,noindex:l.noindex,twitter:y,openGraph:{title:s,description:d,url:p,images:c,type:"article",article:{publishedTime:E(l.created),modifiedTime:E(l.updated),tags:function(e){return e.tags?Array.isArray(e.tags)?e.tags:[e.tags]:[]}(n)}}})}var P=t(57450),S=t(41799),Z=t(69396),B=t(99534),L=t(37802),C=L.Z.Link,D=function(e){e=(e=e.replace(/_/g,"-")).replace(/--/g,"-");var n=[];return e.split("-").forEach((function(e){n.push(e.substr(0,1).toUpperCase()+e.substr(1))})),n.join(" ")},M=function(e){var n,t,i=e.note,o=(0,B.Z)(e,["note"]),l=(0,p.useState)(void 0),s=l[0],d=l[1];return(0,p.useEffect)((function(){d(window.innerHeight/2)}),[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(L.Z,(0,Z.Z)((0,S.Z)({style:{zIndex:1},className:"dendron-toc"},o),{targetOffset:s,children:[Object.entries(null===i||void 0===i?void 0:i.anchors).map((function(e){var n,t,i=(0,r.Z)(e,2),o=i[0],l=i[1];return"header"!==(null===l||void 0===l?void 0:l.type)?(0,a.jsx)(a.Fragment,{}):(null===l||void 0===l?void 0:l.depth)>2?(0,a.jsx)("div",{style:{paddingLeft:"20px"},children:(0,a.jsx)(C,{href:"#".concat(o),title:D(null!==(n=null===l||void 0===l?void 0:l.text)&&void 0!==n?n:null===l||void 0===l?void 0:l.value)})}):(0,a.jsx)("div",{children:(0,a.jsx)(C,{href:"#".concat(o),title:D(null!==(t=null===l||void 0===l?void 0:l.text)&&void 0!==t?t:null===l||void 0===l?void 0:l.value)})})})),(null===i||void 0===i||null===(n=i.links)||void 0===n?void 0:n.length)>0&&(null===i||void 0===i?void 0:i.links.some((function(e){return"backlink"===e.type})))?(0,a.jsx)(C,{href:"#backlinks",title:"Backlinks"}):(0,a.jsx)(a.Fragment,{}),(null===i||void 0===i||null===(t=i.children)||void 0===t?void 0:t.length)>0?(0,a.jsx)(C,{href:"#children",title:"Children"}):(0,a.jsx)(a.Fragment,{})]}))})},R=t(54856),N=t(85416),A=t(45875),F=t(27049),U=t(53944),V=t(54811),_=A.b.LAYOUT,H=function(e){var n,t=(0,V.T)((function(e){return e.engine}));if(!(0,l.verifyEngineSliceState)(t))return null;var i=(0,f.N0)(t.config.site),r=e.note;if("w"===r.custom.status)return(0,a.jsxs)("span",{style:{fontSize:"14px",color:"lightgrey"},children:[(0,a.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",backgroundColor:"pink",marginLeft:"10px",marginRight:"4px",borderRadius:"10px"}}),"pending notes (\u9019\u7bc7\u6587\u7ae0\u9084\u6c92\u5beb\u5b8c)"]});if(!r.id||"root"===r.id||"root"===r.parent||!0===(null===(n=r.custom)||void 0===n?void 0:n.stub)||"about"===r.id||"tags"===r.fname.split(".")[0]||"0drops"===r.fname.split(".")[0])return(0,a.jsx)(a.Fragment,{});var o={url:"".concat(i,"/notes/").concat(r.id),identifier:r.id,title:r.title};return(0,a.jsxs)(d.Z,{xs:24,md:18,children:[(0,a.jsx)(F.Z,{dashed:!0}),(0,a.jsx)("div",{style:{paddingRight:"".concat(_.PADDING,"px")},children:(0,a.jsx)(U.qw,{shortname:"kiwijang",config:o})}),(0,a.jsx)(F.Z,{dashed:!0})]})},O=A.b.LAYOUT,Y=A.b.HEADER;function G(e){var n,t=e.note,c=e.body,f=e.collectionChildren,y=e.noteIndex,m=e.customHeadContent,g=e.config,x=e.rootBody,v=((0,l.createLogger)("Note"),(0,b.vm)().getActiveNoteId),T=(0,r.Z)(p.useState(void 0),2),w=T[0],I=T[1],E=v(),S="";"root"===E&&(S=E,E=y.id);var Z=(0,R.$s)();(0,R.O5)((function(e){return e.engine})),(0,b.dD)().isMobile;p.useEffect((function(){u().isUndefined(E)||(E!==t.id?fetch("/data/notes/".concat(E,".html")).then(function(){var e=(0,i.Z)((function(e){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.text()];case 1:return n=t.sent(),I(n),Z(N.w.Nw.setLoadingStatus(l.LoadingStatus.FULFILLED)),[2]}}))}));return function(n){return e.apply(this,arguments)}}()):Z(N.w.Nw.setLoadingStatus(l.LoadingStatus.FULFILLED)))}),[E]);var B=E===t.id?c:w;if(u().isUndefined(B))return(0,a.jsx)(P.Z,{});var L=(null===(n=t.custom)||void 0===n?void 0:n.has_collection)&&!u().isNull(f)?f.map((function(e){return h({note:e,noteIndex:y})})):null;if(E===S)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{note:t,config:g}),m&&(0,a.jsx)(j,{content:m}),(0,a.jsx)(s.Z,{children:(0,a.jsx)(d.Z,{span:24,children:(0,a.jsxs)(s.Z,{children:[(0,a.jsxs)(d.Z,{xs:24,md:18,children:[(0,a.jsx)("div",{style:{paddingRight:"".concat(O.PADDING,"px")},children:(0,a.jsx)(l.DendronNote,{noteContent:x||"",config:g})}),L]}),(0,a.jsx)(d.Z,{xs:0,md:6,children:(0,a.jsx)(M,{note:t,offsetTop:Y.HEIGHT})}),(0,a.jsx)(H,{note:t})]})})})]});if(E="about"){var C="\n    <script type=\"text/javascript\" id=\"www-widgetapi-script\" src=\"https://s.ytimg.com/yts/jsbin/www-widgetapi-vflS50iB-/www-widgetapi.js\" async=\"\"><\/script>\n    <script src=\"https://www.youtube.com/player_api\"><\/script>\n    <script>\n     try {\n      execute();\n  } catch(error) {\n    if (error instanceof ReferenceError) {\n      console.log(error)\n    } else {\n      console.log('Caught some other error.');\n    }\n  }\n\n  function execute() {\n    let player;\n    let duration = 0;\n    let currentTime = 0;\n    let isMuted = true;\n    let yt = null;\n    let isSetup = true;\n    let repeat = true;\n    let firstTime = true;    \n    let clock1 = null;\n    \n    if (window.location.href.split('/').includes('about')) {\n      document.addEventListener('DOMContentLoaded', (event) => {\n        console.log('goRepeat')\n        goRepeat();\n\n        if(document.getElementById('about')) {\n          \n          document.getElementById('bar-wrap').addEventListener('click',(e) => {\n            console.log('ccc')\n            const x = e.offsetX;\n            let seekToTime = 0;\n            const barWidth =  e.target.offsetWidth;\n            if (player) {\n              duration = player.getDuration();\n              seekToTime = Math.floor(x/barWidth*duration);\n              player.seekTo(seekToTime);\n            }        \n              \n            currentTime = yt? (yt.playerInfo? yt.playerInfo.currentTime : player.getCurrentTime()) : player.getCurrentTime();\n            document.getElementById('bar').style.width = String(currentTime / duration * 100)+'%';\n          });          \n              \n          if (firstTime) {\n            const updTimeLine = setInterval(() => {\n              console.log('upd')\n              if(!document.getElementById('bar')) {\n                clearInterval(updTimeLine);\n                return;\n              }\n              currentTime = yt? (yt.playerInfo? yt.playerInfo.currentTime : player.getCurrentTime()) : player.getCurrentTime();\n              document.getElementById('bar').style.width = String(currentTime / duration * 100)+'%';\n            }, 1000);\n\n            firstTime = false;\n          }\n        }\n        \n        window.stopVideo = stopVideo;\n        window.mute = mute;\n        window.unMute = unMute;\n        window.playMyVedio = playMyVedio;\n        window.pauseVideo = pauseVideo;\n        window.onYouTubePlayerAPIReady = onYouTubeIframeAPIReady;\n        window.onPlayerReady = onPlayerReady;\n      });    \n    }\n    \n    function goRepeat() {        \n      if (!document.getElementById('about')) { \n        repeat = true;         \n        clock1 = setInterval( ()=> {\n            if (isSetup) {\n              isSetup = false;\n              setup();\n            }\n            if (repeat) {\n              repeat = false;\n              goRepeat();\n            }\n        }, 500);\n        return;\n      } else {\n        if (clock1) {\n          clearInterval(clock1);\n        }\n\n        document.getElementById('bar-wrap').addEventListener('click',(e) => {\n          console.log('ccc')\n          const x = e.offsetX;\n          let seekToTime = 0;\n          const barWidth =  e.target.offsetWidth;\n          if (player) {\n            duration = player.getDuration();\n            seekToTime = Math.floor(x/barWidth*duration);\n            player.seekTo(seekToTime);\n          }        \n            \n          currentTime = yt? (yt.playerInfo? yt.playerInfo.currentTime : player.getCurrentTime()) : player.getCurrentTime();\n          document.getElementById('bar').style.width = String(currentTime / duration * 100)+'%';\n        });          \n            \n        if (firstTime) {\n          const updTimeLine = setInterval(() => {\n            console.log('upd')\n            if(!document.getElementById('bar')) {\n              clearInterval(updTimeLine);\n              return;\n            }\n            currentTime = yt? (yt.playerInfo? yt.playerInfo.currentTime : player.getCurrentTime()) : player.getCurrentTime();\n            document.getElementById('bar').style.width = String(currentTime / duration * 100)+'%';\n          }, 1000);\n\n          firstTime = false;\n        }\n      }\n    }\n\n    function setup() {          \n        if (typeof(YT) == 'undefined' || typeof(YT.Player) == 'undefined') {\n\n            // 2. This code loads the IFrame Player API code asynchronously.\n            const tag = document.createElement('script');    \n            tag.src = 'https://www.youtube.com/iframe_api';\n            const firstScriptTag = document.getElementsByTagName('script')[0];\n            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n        }\n\n        onYouTubeIframeAPIReady();\n    }\n\n    \n    // 3. This function creates an <iframe> (and YouTube player)\n    //    after the API code downloads.\n    function onYouTubeIframeAPIReady() {\n      yt = new YT.Player('player', {\n        height: '100',\n        width: '250',\n        videoId: 'GTlQhMRHXIg',\n        playerVars: {\n          autoplay: 0,\n          controls: 0,\n          loop: 1,\n          playsinline: 1,\n          origin: 'https://kiwijang.github.io',\n        },\n        events: {\n          onReady: onPlayerReady,\n        },\n      });\n    }\n\n    // 4. The API will call this function when the video player is ready.\n    function onPlayerReady(event) {\n      isMuted = event.target.isMuted();\n      if (isMuted) {\n        document.getElementById('btn-mute').style.display = 'none';\n        document.getElementById('btn-unMute').style.display = 'flex';\n      } else {\n        document.getElementById('btn-mute').style.display = 'flex';\n        document.getElementById('btn-unMute').style.display = 'none';\n      }\n\n      // event.target.playVideo();\n      player = event.target;\n      // console.log(player)\n\n      window.playMyVedio();\n      window.stopVideo();\n\n      duration = player.getDuration();\n\n      currentTime = yt? (yt.playerInfo? yt.playerInfo.currentTime : player.getCurrentTime()) : player.getCurrentTime();\n      document.getElementById('bar').style.width = String(currentTime/duration*100)+'%';   \n    }\n\n    function stopVideo() {\n      if (!player) return;\n      player.stopVideo();\n    }\n  \n    function pauseVideo() {\n      if (!player) return;\n      player.pauseVideo();\n    }\n  \n    function playMyVedio() {\n      if (!player) return;\n      player.playVideo();\n    }\n  \n    function unMute() {\n      checkIsMuted();\n    }\n  \n    function mute() {\n      checkIsMuted();\n    }\n  \n    function checkIsMuted() {\n      if (!player) return;\n  \n      if (document.getElementById('btn-mute').style.display !== 'flex') {\n        document.getElementById('btn-mute').style.display = 'flex';\n        document.getElementById('btn-unMute').style.display = 'none';\n        \n        player.unMute();\n      } else {\n        document.getElementById('btn-mute').style.display = 'none';\n        document.getElementById('btn-unMute').style.display = 'flex';\n        \n        player.mute();\n      }\n    }\n      \n  }\n  \n    <\/script>";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{note:t,config:g}),(0,a.jsx)(j,{content:C}),(0,a.jsx)(s.Z,{children:(0,a.jsx)(d.Z,{span:24,children:(0,a.jsxs)(s.Z,{children:[(0,a.jsxs)(d.Z,{xs:24,md:18,children:[(0,a.jsx)("div",{style:{paddingRight:"".concat(O.PADDING,"px")},children:(0,a.jsx)(W,{children:(0,a.jsx)(l.DendronNote,{noteContent:B,config:g})})}),L]}),(0,a.jsx)(d.Z,{xs:0,md:6,children:(0,a.jsx)(M,{note:t,offsetTop:Y.HEIGHT})}),(0,a.jsx)(H,{note:t})]})})})]})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{note:t,config:g}),m&&(0,a.jsx)(j,{content:m}),(0,a.jsx)(s.Z,{children:(0,a.jsx)(d.Z,{span:24,children:(0,a.jsxs)(s.Z,{children:[(0,a.jsxs)(d.Z,{xs:24,md:18,children:[(0,a.jsx)("div",{style:{paddingRight:"".concat(O.PADDING,"px")},children:(0,a.jsx)(l.DendronNote,{noteContent:B,config:g})}),L]}),(0,a.jsx)(d.Z,{xs:0,md:6,children:(0,a.jsx)(M,{note:t,offsetTop:Y.HEIGHT})}),(0,a.jsx)(H,{note:t})]})})})]})}var W=function(e){var n=e.children,t=(0,p.useState)(!1),i=t[0],r=t[1];return(0,p.useEffect)((function(){r(!0)}),[]),(0,a.jsx)(a.Fragment,{children:i?n:null})}}}]);