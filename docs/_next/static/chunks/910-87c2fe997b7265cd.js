"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{9910:function(n,e,t){t.d(e,{Z:function(){return G}});var r=t(28520),i=t.n(r),o=t(85893),l=t(4604),a=t(71230),d=t(15746),s=t(96486),c=t.n(s),u=t(67294),f=t(42336),p=t(41664),y=t(99490);function m(n){var e,t,r,i=n.note,l=n.noteIndex,a=(0,f.gt)({note:i,noteIndex:l});try{e=c().get(i,"custom.date",!1)?(t=i.custom.date,r=y.DateTime.DATE_SHORT,y.DateTime.fromISO(t).toLocaleString(r)):function(n,e){return y.DateTime.fromMillis(n).toLocaleString(e)}(i.created,y.DateTime.DATE_SHORT)}catch(d){throw Error("no date found for note ".concat(i.id))}return(0,o.jsx)("div",{children:(0,o.jsxs)("article",{itemScope:!0,itemType:"https://schema.org/CreativeWork",children:[(0,o.jsx)("h2",{itemProp:"headline",children:(0,o.jsx)(p.default,{href:a,children:i.title})}),!c().isUndefined(e)&&(0,o.jsx)("p",{children:e}),c().has(i,"custom.excerpt")&&(0,o.jsx)("p",{itemProp:"description",children:i.custom.excerpt})]})})}var v=t(9008),g=t(25935);function h(n){var e=n.content,t=(0,g.ZP)(e);return(0,o.jsx)(v.default,{children:t})}var x=t(25903),w=t(2962),b=t(1512),j=function(n){return x.Time.DateTime.fromMillis(c().toInteger(n)).setZone("utc").toLocaleString("yyyy-LL-dd")};function I(n){var e=n.note,t=n.config,r=(0,b.vm)().router.asPath;if(c().some(["403"],(function(n){return r==="/notes/".concat(n,"/")})))return null;var i,l=x.PublishUtils.getSEOPropsFromConfig(t),a=x.PublishUtils.getSEOPropsFromNote(e),d=c().defaults(a,l),s=d.title,u=d.excerpt,p=(null===d||void 0===d?void 0:d.image)?[d.image]:[],y=function(n){var e=n.sitePath,t=n.seoProps,r=n.siteConfig;return t.canonicalBaseUrl?[r.siteUrl,e].join(""):t.canonicalUrl?t.canonicalUrl:[r.canonicalBaseUrl?r.canonicalBaseUrl:(0,f.N0)(r),e].join("")}({sitePath:r,seoProps:d,siteConfig:t.site}),m=d.twitter?{handle:d.twitter,site:d.twitter,cardType:"summary_large_image"}:void 0;return(0,o.jsx)(w.PB,{title:s,description:u,canonical:y,noindex:d.noindex,twitter:m,openGraph:{title:s,description:u,url:y,images:p,type:"article",article:{publishedTime:j(d.created),modifiedTime:j(d.updated),tags:(i=e,i.tags?Array.isArray(i.tags)?i.tags:[i.tags]:[])}}})}var T=t(57450),E=t(37802);function B(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function k(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){B(n,e,t[e])}))}return n}function P(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function M(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,i=!1,o=void 0;try{for(var l,a=n[Symbol.iterator]();!(r=(l=a.next()).done)&&(t.push(l.value),!e||t.length!==e);r=!0);}catch(d){i=!0,o=d}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=E.Z.Link,L=function(n){n=(n=n.replace(/_/g,"-")).replace(/--/g,"-");var e=[];return n.split("-").forEach((function(n){e.push(n.substr(0,1).toUpperCase()+n.substr(1))})),e.join(" ")},N=function(n){var e,t,r=n.note,i=P(n,["note"]),l=(0,u.useState)(void 0),a=l[0],d=l[1];return(0,u.useEffect)((function(){d(window.innerHeight/2)}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(E.Z,k({style:{zIndex:1},className:"dendron-toc"},i,{targetOffset:a,children:[Object.entries(null===r||void 0===r?void 0:r.anchors).map((function(n){var e,t,r=M(n,2),i=r[0],l=r[1];return"header"!==(null===l||void 0===l?void 0:l.type)?(0,o.jsx)(o.Fragment,{}):(null===l||void 0===l?void 0:l.depth)>2?(0,o.jsx)("div",{style:{paddingLeft:"20px"},children:(0,o.jsx)(A,{href:"#".concat(i),title:L(null!==(e=null===l||void 0===l?void 0:l.text)&&void 0!==e?e:null===l||void 0===l?void 0:l.value)})}):(0,o.jsx)("div",{children:(0,o.jsx)(A,{href:"#".concat(i),title:L(null!==(t=null===l||void 0===l?void 0:l.text)&&void 0!==t?t:null===l||void 0===l?void 0:l.value)})})})),(null===r||void 0===r||null===(e=r.links)||void 0===e?void 0:e.length)>0&&(null===r||void 0===r?void 0:r.links.some((function(n){return"backlink"===n.type})))?(0,o.jsx)(A,{href:"#backlinks",title:"Backlinks"}):(0,o.jsx)(o.Fragment,{}),(null===r||void 0===r||null===(t=r.children)||void 0===t?void 0:t.length)>0?(0,o.jsx)(A,{href:"#children",title:"Children"}):(0,o.jsx)(o.Fragment,{})]}))})},S=t(54856),O=t(85416),D=t(45875),Z=t(27049),V=t(53944),C=t(54811),R=D.b.LAYOUT,H=function(n){var e,t=(0,C.T)((function(n){return n.engine}));if(!(0,l.verifyEngineSliceState)(t))return null;var r=(0,f.N0)(t.config.site),i=n.note;if("w"===i.custom.status)return(0,o.jsxs)("span",{style:{fontSize:"14px",color:"lightgrey"},children:[(0,o.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",backgroundColor:"pink",marginLeft:"10px",marginRight:"4px",borderRadius:"10px"}}),"pending notes (\u9019\u7bc7\u6587\u7ae0\u9084\u6c92\u5beb\u5b8c)"]});if(!i.id||"root"===i.id||"root"===i.parent||!0===(null===(e=i.custom)||void 0===e?void 0:e.stub)||"about"===i.id||"tags"===i.fname.split(".")[0]||"0drops"===i.fname.split(".")[0])return(0,o.jsx)(o.Fragment,{});var a={url:"".concat(r,"/notes/").concat(i.id),identifier:i.id,title:i.title};return(0,o.jsxs)(d.Z,{xs:24,md:18,children:[(0,o.jsx)(Z.Z,{dashed:!0}),(0,o.jsx)("div",{style:{paddingRight:"".concat(R.PADDING,"px")},children:(0,o.jsx)(V.qw,{shortname:"kiwijang",config:a})}),(0,o.jsx)(Z.Z,{dashed:!0})]})};function U(n,e,t,r,i,o,l){try{var a=n[o](l),d=a.value}catch(s){return void t(s)}a.done?e(d):Promise.resolve(d).then(r,i)}function F(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function l(n){U(o,r,i,l,a,"next",n)}function a(n){U(o,r,i,l,a,"throw",n)}l(void 0)}))}}function z(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,i=!1,o=void 0;try{for(var l,a=n[Symbol.iterator]();!(r=(l=a.next()).done)&&(t.push(l.value),!e||t.length!==e);r=!0);}catch(d){i=!0,o=d}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _=D.b.LAYOUT,Y=D.b.HEADER;function G(n){var e,t=n.note,r=n.body,s=n.collectionChildren,f=n.noteIndex,p=n.customHeadContent,y=n.config,v=n.rootBody,g=((0,l.createLogger)("Note"),(0,b.vm)().getActiveNoteId),x=z(u.useState(void 0),2),w=x[0],j=x[1],E=g(),B="";"root"===E&&(B=E,E=f.id);var k=(0,S.$s)();(0,S.O5)((function(n){return n.engine})),(0,b.dD)().isMobile;u.useEffect((function(){c().isUndefined(E)||(E!==t.id?fetch("/data/notes/".concat(E,".html")).then(F(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.text();case 2:t=n.sent,j(t),k(O.w.Nw.setLoadingStatus(l.LoadingStatus.FULFILLED));case 5:case"end":return n.stop()}}),n)})))):k(O.w.Nw.setLoadingStatus(l.LoadingStatus.FULFILLED)))}),[E]);var P=E===t.id?r:w;if(c().isUndefined(P))return(0,o.jsx)(T.Z,{});var M=(null===(e=t.custom)||void 0===e?void 0:e.has_collection)&&!c().isNull(s)?s.map((function(n){return m({note:n,noteIndex:f})})):null;if(E===B)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I,{note:t,config:y}),p&&(0,o.jsx)(h,{content:p}),(0,o.jsx)(a.Z,{children:(0,o.jsx)(d.Z,{span:24,children:(0,o.jsxs)(a.Z,{children:[(0,o.jsxs)(d.Z,{xs:24,md:18,children:[(0,o.jsx)("div",{style:{paddingRight:"".concat(_.PADDING,"px")},children:(0,o.jsx)(l.DendronNote,{noteContent:v||"",config:y})}),M]}),(0,o.jsx)(d.Z,{xs:0,md:6,children:(0,o.jsx)(N,{note:t,offsetTop:Y.HEIGHT})}),(0,o.jsx)(H,{note:t})]})})})]});if(E="about"){var A='\n    <script>\n    if (window.location.href.split(\'/\').includes(\'about\')) {\n      let player;\n      let duration = 0;\n      let currentTime = 0;\n      let isMuted = true;\n      let timer = null;\n      let yt = null;\n      const playerBody = String(`\x3c!-- 1. The <iframe> (and video player) will replace this <div> tag. --\x3e\n                            <div id="player"></div>\n                          \n                            <div id="btn-area">\n                              <button id="btn-stop" onclick="stopVideo()">\n                                <svg\n                                  xmlns="http://www.w3.org/2000/svg"\n                                  class="h-5 w-5"\n                                  viewBox="0 0 20 20"\n                                  fill="currentColor"\n                                >\n                                  <path\n                                    fill-rule="evenodd"\n                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z"\n                                    clip-rule="evenodd"\n                                  />\n                                </svg>\n                              </button>\n                              <button id="btn-play" onclick="playMyVedio()">\n                                <svg\n                                  xmlns="http://www.w3.org/2000/svg"\n                                  class="h-5 w-5"\n                                  viewBox="0 0 20 20"\n                                  fill="currentColor"\n                                >\n                                  <path\n                                    fill-rule="evenodd"\n                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"\n                                    clip-rule="evenodd"\n                                  />\n                                </svg>\n                              </button>\n                              <button id="btn-pause" onclick="pauseVideo()">\n                                <svg\n                                  xmlns="http://www.w3.org/2000/svg"\n                                  class="h-5 w-5"\n                                  viewBox="0 0 20 20"\n                                  fill="currentColor"\n                                >\n                                  <path\n                                    fill-rule="evenodd"\n                                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"\n                                    clip-rule="evenodd"\n                                  />\n                                </svg>\n                              </button>\n                              <button id="btn-unMute" onclick="unMute()">\n                                <svg\n                                  xmlns="http://www.w3.org/2000/svg"\n                                  class="h-5 w-5"\n                                  viewBox="0 0 20 20"\n                                  fill="currentColor"\n                                >\n                                  <path\n                                    fill-rule="evenodd"\n                                    d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z"\n                                    clip-rule="evenodd"\n                                  />\n                                </svg>\n                              </button>\n                              <button id="btn-mute" onclick="mute()">\n                                <svg\n                                  xmlns="http://www.w3.org/2000/svg"\n                                  class="h-5 w-5"\n                                  viewBox="0 0 20 20"\n                                  fill="currentColor"\n                                >\n                                  <path\n                                    fill-rule="evenodd"\n                                    d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z"\n                                    clip-rule="evenodd"\n                                  />\n                                </svg>\n                              </button>\n                            </div>\n                          \n                            <div id="bar-wrap">\n                              <div id="bar"></div>\n                            </div>`);\n\n      document.addEventListener(\'DOMContentLoaded\',() => {\n\n    \n        var newNode = document.createElement("div");\n        newNode.setAttribute("id", "wrap");\n        document.getElementById(\'about\').parentNode.insertBefore(newNode, document.getElementsByTagName(\'blockquote\')[0]);\n        newNode.innerHTML += playerBody;\n        \n        if (typeof(YT) == \'undefined\' || typeof(YT.Player) == \'undefined\') {\n\n          // 2. This code loads the IFrame Player API code asynchronously.\n          const tag = document.createElement(\'script\');    \n          tag.src = \'https://www.youtube.com/iframe_api\';\n          const firstScriptTag = document.getElementsByTagName(\'script\')[0];\n          firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n          window.onYouTubePlayerAPIReady = function() {\n            onYouTubeIframeAPIReady();\n          };\n          \n\n          window.onPlayerReady = function() {\n            onPlayerReady();\n          };\n        } else {\n          onYouTubeIframeAPIReady();\n        }        \n      });\n\n      \n      // 3. This function creates an <iframe> (and YouTube player)\n      //    after the API code downloads.\n      function onYouTubeIframeAPIReady() {\n        yt = new YT.Player(\'player\', {\n          height: \'100\',\n          width: \'250\',\n          videoId: \'GTlQhMRHXIg\',\n          playerVars: {\n            autoplay: 0,\n            controls: 0,\n            loop: 1,\n            playsinline: 1,\n          },\n          events: {\n            onReady: onPlayerReady,\n          },\n        });\n\n        if (!document.getElementById(\'bar\')) {          \n          updView();\n        }\n\n        document.getElementById(\'bar-wrap\').addEventListener(\'click\',(e) => {\n          clearInterval(timer)\n          const x = e.offsetX;\n          const barWidth =  e.target.offsetWidth;\n          if (player) {\n            player.seekTo(Math.floor(x/barWidth*duration));\n          }\n    \n          timer = setInterval(()=> {\n            if (!document.getElementById(\'bar\')) {\n              updView();\n            }\n            \n            document.getElementById(\'bar\').style.width = Math.floor(x/barWidth*duration)+\'%\';\n            currentTime = yt? yt.playerInfo.currentTime : player.getCurrentTime();\n            document.getElementById(\'bar\').style.width = String(currentTime / duration * 100)+\'%\';\n          } ,1000)\n        })\n      }\n\n      // 4. The API will call this function when the video player is ready.\n      function onPlayerReady(event) {\n        isMuted = event.target.isMuted();\n        if (isMuted) {\n          document.getElementById(\'btn-mute\').style.display = \'none\';\n          document.getElementById(\'btn-unMute\').style.display = \'flex\';\n        } else {\n          document.getElementById(\'btn-mute\').style.display = \'flex\';\n          document.getElementById(\'btn-unMute\').style.display = \'none\';\n        }\n\n        // event.target.playVideo();\n        player = event.target;\n        // console.log(player)\n\n        playMyVedio();\n        stopVideo();\n\n        duration = player.getDuration();\n\n        if (timer) {          \n          clearInterval(timer);\n          timer = null;\n        }\n        else {\n          timer = setInterval(()=> {\n            if (!document.getElementById(\'bar\')) {\n              updView();\n            }\n\n            currentTime = yt? yt.playerInfo.currentTime : player.getCurrentTime();\n            if (!currentTime && currentTime !== 0) {\n              clearInterval(timer);\n              return;\n            }\n            document.getElementById(\'bar\').style.width = String(currentTime/duration*100)+\'%\';\n          } ,1000); \n        }     \n      }\n\n      function updView() {\n        let clock = null;\n        if (!document.getElementById(\'about\')) {          \n          clock = setInterval(()=> {\n            updView();\n          }, 500);\n          return;\n        } else {\n          if (clock) {\n            clearInterval(clock);\n          }\n          if(!document.getElementById(\'wrap\')) {\n            insertDOM();\n            document.getElementById(\'wrap\').innerHTML += playerBody;\n          }\n        }\n      }\n      \n      function insertDOM() {\n        const newNode = document.createElement("div");\n        newNode.setAttribute("id", "wrap");\n        document.getElementById(\'about\').parentNode.insertBefore(newNode, document.getElementsByTagName(\'blockquote\')[0]);\n      }\n\n      function stopVideo() {\n        if (!player) return;\n        player.stopVideo();\n      }\n  \n      function pauseVideo() {\n        if (!player) return;\n        player.pauseVideo();\n      }\n  \n      function playMyVedio() {\n        if (!player) return;\n        player.playVideo();\n      }\n  \n      function unMute() {\n        checkIsMuted();\n      }\n  \n      function mute() {\n        checkIsMuted();\n      }\n  \n      function checkIsMuted() {\n        if (!player) return;\n  \n        if (document.getElementById(\'btn-mute\').style.display !== \'flex\') {\n          document.getElementById(\'btn-mute\').style.display = \'flex\';\n          document.getElementById(\'btn-unMute\').style.display = \'none\';\n          \n          player.unMute();\n        } else {\n          document.getElementById(\'btn-mute\').style.display = \'none\';\n          document.getElementById(\'btn-unMute\').style.display = \'flex\';\n          \n          player.mute();\n        }\n      }\n  \n      function seekTo(seconds, allowSeekAhead) {\n        if (!player) return;\n        player.seekTo(seconds,true);\n      }\n    }    \n    <\/script>';return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I,{note:t,config:y}),(0,o.jsx)(h,{content:A}),(0,o.jsx)(a.Z,{children:(0,o.jsx)(d.Z,{span:24,children:(0,o.jsxs)(a.Z,{children:[(0,o.jsxs)(d.Z,{xs:24,md:18,children:[(0,o.jsx)("div",{style:{paddingRight:"".concat(_.PADDING,"px")},children:(0,o.jsx)(l.DendronNote,{noteContent:P,config:y})}),M]}),(0,o.jsx)(d.Z,{xs:0,md:6,children:(0,o.jsx)(N,{note:t,offsetTop:Y.HEIGHT})}),(0,o.jsx)(H,{note:t})]})})})]})}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I,{note:t,config:y}),p&&(0,o.jsx)(h,{content:p}),(0,o.jsx)(a.Z,{children:(0,o.jsx)(d.Z,{span:24,children:(0,o.jsxs)(a.Z,{children:[(0,o.jsxs)(d.Z,{xs:24,md:18,children:[(0,o.jsx)("div",{style:{paddingRight:"".concat(_.PADDING,"px")},children:(0,o.jsx)(l.DendronNote,{noteContent:P,config:y})}),M]}),(0,o.jsx)(d.Z,{xs:0,md:6,children:(0,o.jsx)(N,{note:t,offsetTop:Y.HEIGHT})}),(0,o.jsx)(H,{note:t})]})})})]})}}}]);