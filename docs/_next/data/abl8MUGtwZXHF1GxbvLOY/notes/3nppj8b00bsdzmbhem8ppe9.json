{"pageProps":{"note":{"id":"3nppj8b00bsdzmbhem8ppe9","title":"1115 [Angular] 讓 mainjs 變小","desc":"","updated":1675332833044,"created":1668496095203,"tags":["PROG.Angular"],"custom":{},"fname":"drops.2022.1115-[Angular] 讓 mainjs 變小","type":"note","vault":{"fsPath":"vault"},"contentHash":"e58afe720b63d3ebb8933560156969a6","links":[{"type":"frontmatterTag","from":{"fname":"drops.2022.1115-[Angular] 讓 mainjs 變小","id":"3nppj8b00bsdzmbhem8ppe9","vaultName":"vault"},"value":"tags.PROG.Angular","alias":"PROG.Angular","xvault":false,"to":{"fname":"tags.PROG.Angular"}}],"anchors":{"讓-mainjs-變小":{"type":"header","text":"讓 main.js 變小","value":"讓-mainjs-變小","line":10,"column":0,"depth":2},"視覺化工具":{"type":"header","text":"視覺化工具","value":"視覺化工具","line":15,"column":0,"depth":2},"加入四個指令到-packagejson":{"type":"header","text":"加入四個指令到 package.json:","value":"加入四個指令到-packagejson","line":23,"column":0,"depth":2},"並有安裝套件到-devdependencies":{"type":"header","text":"並有安裝套件到 devDependencies:","value":"並有安裝套件到-devdependencies","line":32,"column":0,"depth":2}},"children":[],"parent":"4MPQXb6WwUg0kGHxTPD7x","data":{}},"body":"<h1 id=\"1115-angular-讓-mainjs-變小\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#1115-angular-讓-mainjs-變小\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>1115 [Angular] 讓 mainjs 變小</h1>\n<h2 id=\"讓-mainjs-變小\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#讓-mainjs-變小\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>讓 main.js 變小</h2>\n<ol>\n<li>將 main.js 內的元件抽出去變成 lazyload 的。</li>\n<li>使用 esm 讓 angular 幫忙 tree-shake，最終只會包含你有使用的部分。</li>\n</ol>\n<h2 id=\"視覺化工具\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#視覺化工具\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>視覺化工具</h2>\n<p>主要是參考這篇文章:</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/angular-bundle-size\">How To Analyze Angular App Bundle Sizes with webpack Bundle Analyzer or source-map-explorer by Alligator.io</a></p>\n<p>主要參考這篇文章: <a href=\"https://www.digitalocean.com/community/tutorials/angular-bundle-size\">https://www.digitalocean.com/community/tutorials/angular-bundle-size</a></p>\n<h2 id=\"加入四個指令到-packagejson\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#加入四個指令到-packagejson\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>加入四個指令到 package.json:</h2>\n<pre><code>\"build:stats\": \"ng run client:build --configuration=sit --base-href=/xxx/ --stats-json\",\n\"analyze\": \"webpack-bundle-analyzer dist/apps/xxx/stats.json\",\n\"client:build:sourcemap\": \"ng run client:build --configuration=sit --base-href=/xxx/ --build-optimizer --source-map\",\n\"sourcemap:analyze\": \"npx source-map-explorer dist/apps/xxx/main.*.js\"\n</code></pre>\n<h2 id=\"並有安裝套件到-devdependencies\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#並有安裝套件到-devdependencies\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>並有安裝套件到 devDependencies:</h2>\n<pre><code>\"source-map-explorer\": \"^2.5.2\",\n\"webpack-bundle-analyzer\": \"^4.4.2\"\n</code></pre>\n<p>● 記得先更新套件:</p>\n<pre><code>npm i\n</code></pre>\n<p>● webpack-bundle-analyzer 套件依序使用這兩個指令:</p>\n<pre><code>npm run build:stats\nnpm run analyze\n</code></pre>\n<p>● source-map-explorer 套件依序使用這兩個指令:</p>\n<pre><code>npm run client:build:sourcemap\nnpm run sourcemap:analyze\n</code></pre>\n<hr>\n<h2 id=\"tags\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#tags\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Tags</h2>\n<ol>\n<li><a class=\"color-tag\" style=\"--tag-color: #017371;\" href=\"/notes/zavPiB0ApTq1sGZOGq9xJ\">PROG.Angular</a></li>\n</ol>","noteIndex":{"id":"root","title":"( Φ w Φ )","desc":"","updated":1650381339323,"created":1595961348801,"stub":false,"custom":{"stub":false,"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"acc933de5170843ff0ca0380d9ab6de4","links":[],"anchors":{},"children":["Cybv0wy1d2NbWoMaJ9Xst","u4tSbmkJewrKonY3sL544","WAKWMq3SeVmlAmZRqCbpB","rEbR1FrKkZzyjo6ahAgm3"],"parent":null,"data":{},"body":"\n\r\nDendron 官網: https://wiki.dendron.so/\r\n\r\n<!-- ![[首次使用 Dendron 紀錄|drops.2021.1226-first-day#使用-dendron-紀錄:#*]] -->\r\n<!-- <div class=\"portal-container\">\r\n<div class=\"portal-head\">\r\n<div class=\"portal-backlink\">\r\n<div class=\"portal-title\">From <span class=\"portal-text-title\">1226 使用 Dendron 紀錄</span></div>\r\n<a href=\"/notes/DTeYpEuPv3KIHugUyqZPu\" class=\"portal-arrow\">Go to text <span class=\"right-arrow\">→</span></a>\r\n</div>\r\n</div>\r\n<div id=\"portal-parent-anchor\" class=\"portal-parent\" markdown=\"1\">\r\n<div class=\"portal-parent-fader-top\"></div>\r\n<div class=\"portal-parent-fader-bottom\"></div><h2 id=\"使用-dendron-紀錄\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#使用-dendron-紀錄\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>使用 Dendron 紀錄</h2>\r\n</div></div> -->\r\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{}},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"dendronVersion":"0.92.1"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://kiwijang.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"/ᐠ ._. ᐟ\\✧","description":"網頁開發技術筆記"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"master","editViewMode":"tree","editRepository":"https://github.com/kiwijang/kiwijang.github.io.git"},"enablePrettyLinks":true},"site":{"siteHierarchies":["root"],"siteRootDir":"docs","siteUrl":"https://kiwijang.github.io","title":"/ᐠ ._. ᐟ\\✧","copyAssets":true,"usePrettyRefs":true,"description":"Personal knowledge space","siteLastModified":true,"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"useFMTitle":true,"useNoteTitleForLink":true,"mermaid":true,"useKatex":true}},"__N_SSG":true}